(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68d68f59"],{"0a49":function(e,t,s){var r=s("9b43"),n=s("626a"),a=s("4bf8"),i=s("9def"),o=s("cd1c");e.exports=function(e,t){var s=1==e,c=2==e,u=3==e,d=4==e,l=6==e,f=5==e||l,p=t||o;return function(t,o,h){for(var w,m,b=a(t),v=n(b),g=r(o,h,3),k=i(v.length),y=0,x=s?p(t,k):c?p(t,0):void 0;k>y;y++)if((f||y in v)&&(w=v[y],m=g(w,y,b),e))if(s)x[y]=m;else if(m)switch(e){case 3:return!0;case 5:return w;case 6:return y;case 2:x.push(w)}else if(d)return!1;return l?-1:u||d?d:x}}},1169:function(e,t,s){var r=s("2d95");e.exports=Array.isArray||function(e){return"Array"==r(e)}},"188a":function(e,t,s){},1959:function(e,t,s){"use strict";s.d(t,"i",function(){return u}),s.d(t,"d",function(){return d}),s.d(t,"c",function(){return l}),s.d(t,"h",function(){return p}),s.d(t,"f",function(){return w}),s.d(t,"k",function(){return b}),s.d(t,"b",function(){return g}),s.d(t,"j",function(){return y}),s.d(t,"a",function(){return I}),s.d(t,"e",function(){return O}),s.d(t,"g",function(){return $});s("7514");var r=s("f499"),n=s.n(r),a=(s("c5f6"),s("6b54"),s("06db"),s("96cf"),s("3b8d")),i=s("9f30"),o=s("6ace"),c=s("db49");function u(e){return e===c["e"].chainId}function d(e,t){var s=e.txSerialize().length;return s+=110*t,1e5*Math.ceil(s/1024)}function l(e,t){return f.apply(this,arguments)}function f(){return f=Object(a["a"])(regeneratorRuntime.mark(function e(t,s){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=0,e.next=3,Object(i["a"])("/","getByzantineCount",[t.txSerialize().toString("hex")]).then(function(e){if(e.hasOwnProperty("result")){var n=t.txSerialize().length;n+=110*(s+e.result.value),r=1e6*Math.ceil(n/1024)}else r=-100}).catch(function(e){console.log(e),r=-100});case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e)})),f.apply(this,arguments)}function p(e,t,s){return h.apply(this,arguments)}function h(){return h=Object(a["a"])(regeneratorRuntime.mark(function e(t,s,r){var n,a,i,c,u,d,l,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=Number(Object(o["b"])(t.amount,t.fee)),a=0,i=s.nonce,c=t.amount,u=0,4===r?u=-1:5===r?u=-1:6===r?(n=t.amount,a=-1,i=t.depositHash.substring(t.depositHash.length-16),c=t.amount-t.fee):9===r?(n=t.amount,a=-1,i=t.depositHash.substring(t.depositHash.length-16),c=t.amount-t.fee,u=(new Date).valueOf()+2592e5):16===r&&(n=t.amount),d=[{address:t.fromAddress,assetsChainId:t.assetsChainId,assetsId:t.assetsId,amount:n,locked:a,nonce:i}],2!==r||t.assetsChainId===Object(o["f"])()){e.next=16;break}return d[0].amount=t.amount,e.next=11,w(Object(o["f"])(),t.assetsId,t.fromAddress);case 11:if(l=e.sent,!(l.data.balance<1e5)){e.next=15;break}return console.log("余额小于手续费"),e.abrupt("return");case 15:d.push({address:t.fromAddress,assetsChainId:Object(o["f"])(),assetsId:t.assetsId,amount:1e5,locked:a,nonce:l.data.nonce});case 16:if(f=[],15!==r&&17!==r){e.next=19;break}return e.abrupt("return",{success:!0,data:{inputs:d,outputs:f}});case 19:if(16!==r){e.next=26;break}if(!t.toAddress){e.next=25;break}return t.value&&(f=[{address:t.toAddress,assetsChainId:t.assetsChainId,assetsId:t.assetsId,amount:t.value,lockTime:u}]),e.abrupt("return",{success:!0,data:{inputs:d,outputs:f}});case 25:c=t.value;case 26:return f=[{address:t.toAddress?t.toAddress:t.fromAddress,assetsChainId:t.assetsChainId,assetsId:t.assetsId,amount:c,lockTime:u}],e.abrupt("return",{success:!0,data:{inputs:d,outputs:f}});case 28:case"end":return e.stop()}},e)})),h.apply(this,arguments)}function w(){return m.apply(this,arguments)}function m(){return m=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,s,r,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:2,s=n.length>1&&void 0!==n[1]?n[1]:1,r=n.length>2?n[2]:void 0,e.next=5,Object(i["a"])("/","getAccountBalance",[t,s,r]).then(function(e){return e.hasOwnProperty("result")?{success:!0,data:{balance:e.result.balance,nonce:e.result.nonce}}:{success:!1,data:e}}).catch(function(e){return{success:!1,data:e}});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)})),m.apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return v=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])("/","validateTx",[t]).then(function(e){return e.hasOwnProperty("result")?{success:!0,data:e.result}:{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),v.apply(this,arguments)}function g(e){return k.apply(this,arguments)}function k(){return k=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])("/","broadcastTx",[t]).then(function(e){return e.hasOwnProperty("result")?{success:!0,data:e.result}:{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),k.apply(this,arguments)}function y(e){return x.apply(this,arguments)}function x(){return x=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])("/","validateTx",[t]).then(function(e){if(e.hasOwnProperty("result")){var s=e.result.value;return Object(i["a"])("/","broadcastTx",[t]).then(function(e){return e.hasOwnProperty("result")?{success:!0,hash:s}:{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}})}return{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),x.apply(this,arguments)}function I(e){return A.apply(this,arguments)}function A(){return A=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])("/","getConsensusDeposit",[1,300,t]).then(function(e){return e.result}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),A.apply(this,arguments)}function O(e){return _.apply(this,arguments)}function _(){return _=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["a"])("/","getContractConstructor",[t]).then(function(e){return e.hasOwnProperty("result")?{success:!0,data:e.result.constructor}:{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),_.apply(this,arguments)}function j(){return C.apply(this,arguments)}function C(){return C=Object(a["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[{chainId:1,addressPrefix:"NULS"},{chainId:2,addressPrefix:"tNULS"}],e.next=3,Object(i["a"])("/","getAllAddressPrefix",[]).then(function(e){e.hasOwnProperty("result")?(sessionStorage.hasOwnProperty("prefixData")&&sessionStorage.removeItem("prefixData"),sessionStorage.setItem("prefixData",n()(e.result))):sessionStorage.setItem("prefixData",n()(t))}).catch(function(e){console.log(e),sessionStorage.setItem("prefixData",n()(t))});case 3:case"end":return e.stop()}},e)})),C.apply(this,arguments)}function $(e){return R.apply(this,arguments)}function R(){return R=Object(a["a"])(regeneratorRuntime.mark(function e(t){var s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,j();case 2:if(s=JSON.parse(sessionStorage.getItem("prefixData")),!s){e.next=8;break}return r=s.find(function(e){return e.chainId===t}),e.abrupt("return",r.addressPrefix);case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}},e)})),R.apply(this,arguments)}},"20d6":function(e,t,s){"use strict";var r=s("5ca1"),n=s("0a49")(6),a="findIndex",i=!0;a in[]&&Array(1)[a](function(){i=!1}),r(r.P+r.F*i,"Array",{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(a)},"675f":function(e,t,s){"use strict";var r=s("9823"),n=s.n(r);n.a},7514:function(e,t,s){"use strict";var r=s("5ca1"),n=s("0a49")(5),a="find",i=!0;a in[]&&Array(1)[a](function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(a)},7672:function(e,t,s){"use strict";var r=s("188a"),n=s.n(r);n.a},9823:function(e,t,s){},cd1c:function(e,t,s){var r=s("e853");e.exports=function(e,t){return new(r(e))(t)}},d1f0:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{staticClass:"password-dialog",attrs:{title:e.$t("password.password1"),visible:e.passwordVisible,top:"30vh",width:"30rem","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.passwordVisible=t},open:e.passwordShow,close:e.passwordClose}},[s("el-form",{ref:"passwordForm",attrs:{model:e.passwordForm,rules:e.passwordRules},nativeOn:{submit:function(e){e.preventDefault()}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(e.$t("password.password1")))]),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{ref:"inpus",attrs:{type:"password",maxlength:22},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSubmit("passwordForm")}},model:{value:e.passwordForm.password,callback:function(t){e.$set(e.passwordForm,"password",t)},expression:"passwordForm.password"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.passwordClose}},[e._v(e._s(e.$t("password.password2")))]),s("el-button",{attrs:{type:"success",id:"passwordInfo"},on:{click:function(t){return e.dialogSubmit("passwordForm")}}},[e._v(e._s(e.$t("password.password3"))+"\n    ")])],1)],1)},n=[],a={props:{},data:function(){var e=this,t=function(t,s,r){""===s?r(new Error(e.$t("password.password1"))):r()};return{passwordVisible:!1,passwordForm:{password:""},passwordRules:{password:[{validator:t,trigger:["blur","change"]}]}}},created:function(){},mounted:function(){},watch:{passwordVisible:function(e){var t=this;e&&setTimeout(function(){t.$refs["inpus"].focus()},200)}},methods:{enterSubmit:function(e){this.passwordForm.password&&this.dialogSubmit(e)},passwordShow:function(){},passwordClose:function(){this.$refs["passwordForm"].resetFields(),this.passwordVisible=!1},showPassword:function(e){this.passwordVisible=e},dialogSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.$emit("passwordSubmit",t.passwordForm.password),t.passwordVisible=!1})}}},i=a,o=(s("7672"),s("2877")),c=Object(o["a"])(i,r,n,!1,null,null,null);t["a"]=c.exports},e853:function(e,t,s){var r=s("d3f4"),n=s("1169"),a=s("2b4c")("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!n(t.prototype)||(t=void 0),r(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?Array:t}},fe38:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"address bg-gray"},[s("h3",{staticClass:"title"},[e._v(e._s(e.$t("address.address0")))]),s("div",{staticClass:"w1200 mt_20"},[s("div",{staticClass:"top_ico"},[s("i",{staticClass:"el-icon-plus click",on:{click:function(t){return e.toUrl("newAddress")}}})]),s("el-table",{attrs:{data:e.addressList,stripe:"",border:""}},[s("el-table-column",{attrs:{prop:"address",label:e.$t("address.address1"),align:"center","min-width":"200"}}),s("el-table-column",{attrs:{prop:"balance",label:e.$t("address.address2"),align:"center"}}),s("el-table-column",{attrs:{label:e.$t("address.address3"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{directives:[{name:"show",rawName:"v-show",value:t.row.alias,expression:"scope.row.alias"}]},[e._v(e._s(t.row.alias))]),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.alias,expression:"!scope.row.alias"}],on:{click:function(s){return e.addAlias(t.row)}}},[s("i",{staticClass:"el-icon-edit-outline click"})])]}}])}),s("el-table-column",{attrs:{label:e.$t("address.address4"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{directives:[{name:"show",rawName:"v-show",value:""!==t.row.remark,expression:"scope.row.remark !=='' "}],staticClass:"click",on:{click:function(s){return e.editRemark(t.row)}}},[e._v(e._s(t.row.remark))]),s("span",{directives:[{name:"show",rawName:"v-show",value:""===t.row.remark,expression:"scope.row.remark ==='' "}],on:{click:function(s){return e.editRemark(t.row)}}},[s("i",{staticClass:"el-icon-edit-outline click"})])]}}])}),s("el-table-column",{attrs:{label:e.$t("address.address5"),align:"center",width:"350"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("label",{staticClass:"click tab_bn",on:{click:function(s){return e.editPassword(t.row)}}},[e._v(e._s(e.$t("address.address6")))]),s("span",{staticClass:"tab_line"},[e._v("|")]),s("label",{staticClass:"click tab_bn",on:{click:function(s){return e.backAddress(t.row)}}},[e._v(e._s(e.$t("address.address7")))]),s("span",{staticClass:"tab_line"},[e._v("|")]),s("label",{staticClass:"click tab_bn",on:{click:function(s){return e.deleteAddress(t.row)}}},[e._v(e._s(e.$t("address.address8")))]),s("span",{staticClass:"tab_line"},[e._v("|")]),t.row.selection?s("el-link",{attrs:{disabled:""}},[e._v(e._s(e.$t("public.into")))]):s("label",{staticClass:"click tab_bn",on:{click:function(s){return e.selectionAddress(t.row)}}},[e._v(e._s(e.$t("public.into")))])]}}])})],1),s("div",{staticClass:"pages"},[s("div",{staticClass:"page-total"},[e._v(e._s(e.$t("public.total"))+" "+e._s(e.addressList.length))])])],1),s("el-dialog",{attrs:{title:"Remarks",width:"30rem",visible:e.remarkDialog,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.remarkDialog=t}}},[s("div",{staticClass:"address-remark bg-white"},[s("el-input",{attrs:{placeholder:e.$t("address.address9")},model:{value:e.remarkInfo,callback:function(t){e.remarkInfo="string"===typeof t?t.trim():t},expression:"remarkInfo"}}),s("div",{staticClass:"btn-next"},[s("el-button",{on:{click:function(t){e.remarkDialog=!1}}},[e._v(e._s(e.$t("address.address10")))]),s("el-button",{attrs:{type:"success"},on:{click:e.addRemark}},[e._v(e._s(e.$t("address.address11")))])],1)],1)]),s("Password",{ref:"password",on:{passwordSubmit:e.passSubmit}})],1)},n=[],a=(s("20d6"),s("5d73")),i=s.n(a),o=s("f499"),c=s.n(o),u=(s("96cf"),s("3b8d")),d=s("0ad0"),l=s.n(d),f=s("d1f0"),p=s("6ace"),h=s("1959"),w={data:function(){return{addressList:[],selectAddressInfo:"",remarkDialog:!1,remarkInfo:"",prefix:""}},components:{Password:f["a"]},created:function(){var e=this;Object(h["g"])(Object(p["f"])()).then(function(t){e.prefix=t}).catch(function(t){console.log(t),e.prefix=""}),this.getAddressList()},mounted:function(){this.getAddressLists(this.addressList)},methods:{getAddressList:function(){this.addressList=Object(p["e"])(0),0===this.addressList.length&&this.$router.push({name:"newAddress",query:{address:""}})},getAddressInfoByNode:function(){var e=Object(u["a"])(regeneratorRuntime.mark(function e(t){var s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$post("/","getAccount",[t.address]).then(function(e){if(e.hasOwnProperty("result")){var r=!0,n=!1,a=void 0;try{for(var o,u=i()(s.addressList);!(r=(o=u.next()).done);r=!0){var d=o.value;d.address===t.address&&(t.alias=e.result.alias,t.balance=Object(p["p"])(e.result.balance),t.consensusLock=Object(p["p"])(e.result.consensusLock),t.totalReward=Object(p["p"])(e.result.totalReward),t.tokens=[],t.chainId=l.a.verifyAddress(d.address).chainId)}}catch(f){n=!0,a=f}finally{try{r||null==u.return||u.return()}finally{if(n)throw a}}localStorage.setItem(Object(p["g"])(),c()(s.addressList))}}).catch(function(e){console.log("getAccount:"+e)});case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getAddressLists:function(e){var t=this,s=!0,r=!1,n=void 0;try{for(var a,o=function(){var e=a.value;setTimeout(function(){t.getAddressInfoByNode(e)},500)},c=i()(e);!(s=(a=c.next()).done);s=!0)o()}catch(u){r=!0,n=u}finally{try{s||null==c.return||c.return()}finally{if(r)throw n}}},addAlias:function(e){0===e.balance?this.$message({message:this.$t("address.address12"),type:"error",duration:1e3}):this.toUrl("setAlias",e.address)},editPassword:function(e){this.toUrl("editPassword",e.address)},backAddress:function(e){this.selectAddressInfo=e,this.$router.push({name:"backupsAddress",query:{backAddressInfo:e}})},deleteAddress:function(e){this.selectAddressInfo=e,this.$refs.password.showPassword(!0)},selectionAddress:function(e){var t=!0,s=!1,r=void 0;try{for(var n,a=i()(this.addressList);!(t=(n=a.next()).done);t=!0){var o=n.value;o.selection&&(o.selection=!1),o.address===e.address&&(o.selection=!0)}}catch(u){s=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(s)throw r}}localStorage.setItem(Object(p["g"])(),c()(this.addressList)),this.$router.push({name:"home"})},passSubmit:function(e){var t=this,s=Object(p["e"])(0),r=l.a.decrypteOfAES(this.selectAddressInfo.aesPri,e),n=l.a.importByKey(this.selectAddressInfo.chainId,r,e,this.prefix);this.selectAddressInfo.address===n.address?(s.splice(s.findIndex(function(e){return e.address===t.selectAddressInfo.address}),1),this.selectAddressInfo.selection&&0!==s.length&&(s[0].selection=!0),localStorage.setItem(Object(p["g"])(),c()(s)),this.getAddressList()):this.$message({message:this.$t("address.address13"),type:"error",duration:1e3})},editRemark:function(e){this.selectAddressInfo=e,this.remarkInfo=this.selectAddressInfo.remark,this.remarkDialog=!0},addRemark:function(){var e=Object(p["e"])(0),t=!0,s=!1,r=void 0;try{for(var n,a=i()(e);!(t=(n=a.next()).done);t=!0){var o=n.value;o.address===this.selectAddressInfo.address&&(this.selectAddressInfo.remark=this.remarkInfo,o.remark=this.remarkInfo)}}catch(u){s=!0,r=u}finally{try{t||null==a.return||a.return()}finally{if(s)throw r}}localStorage.setItem(Object(p["g"])(),c()(e)),this.remarkDialog=!1,this.selectAddressInfo=""},toUrl:function(e,t){this.$router.push({name:e,query:{address:t}})}}},m=w,b=(s("675f"),s("2877")),v=Object(b["a"])(m,r,n,!1,null,null,null);t["default"]=v.exports}}]);
//# sourceMappingURL=chunk-68d68f59.0645cbea.js.map
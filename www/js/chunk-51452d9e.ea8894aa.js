(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-51452d9e"],{"188a":function(s,e,t){},"675f":function(s,e,t){"use strict";var r=t("9823"),a=t.n(r);a.a},7672:function(s,e,t){"use strict";var r=t("188a"),a=t.n(r);a.a},9823:function(s,e,t){},d1f0:function(s,e,t){"use strict";var r=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("el-dialog",{staticClass:"password-dialog",attrs:{title:"密码",visible:s.passwordVisible,top:"30vh",width:"30rem","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){s.passwordVisible=e},open:s.passwordShow,close:s.passwordClose}},[t("el-form",{ref:"passwordForm",attrs:{model:s.passwordForm,rules:s.passwordRules},nativeOn:{submit:function(s){s.preventDefault()}}},[t("div",[s._v("请输入密码")]),t("el-form-item",{attrs:{prop:"password"}},[t("el-input",{ref:"inpus",attrs:{type:"password",maxlength:22},model:{value:s.passwordForm.password,callback:function(e){s.$set(s.passwordForm,"password",e)},expression:"passwordForm.password"}})],1)],1),t("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{on:{click:s.passwordClose}},[s._v("取 消")]),t("el-button",{attrs:{type:"success",id:"passwordInfo"},on:{click:function(e){return s.dialogSubmit("passwordForm")}}},[s._v("确 定")])],1)],1)},a=[],o={props:{},data:function(){var s=function(s,e,t){""===e?t(new Error("请输入密码")):t()};return{passwordVisible:!1,passwordForm:{password:""},passwordRules:{password:[{validator:s,trigger:["blur","change"]}]}}},mounted:function(){},watch:{passwordVisible:function(s){s&&setTimeout(function(){},200)}},methods:{passwordShow:function(){},passwordClose:function(){this.$refs["passwordForm"].resetFields(),this.passwordVisible=!1},showPassword:function(s){this.passwordVisible=s},dialogSubmit:function(s){var e=this;this.$refs[s].validate(function(s){if(!s)return!1;e.$emit("passwordSubmit",e.passwordForm.password),e.passwordVisible=!1})}}},n=o,i=(t("7672"),t("2877")),l=Object(i["a"])(n,r,a,!1,null,null,null);e["a"]=l.exports},fe38:function(s,e,t){"use strict";t.r(e);var r=function(){var s=this,e=s.$createElement,t=s._self._c||e;return t("div",{staticClass:"address bg-gray"},[t("h3",{staticClass:"title"},[s._v("钱包管理")]),t("div",{staticClass:"w1200 mt_20"},[t("div",{staticClass:"top_ico"},[t("i",{staticClass:"el-icon-plus click",on:{click:function(e){return s.toUrl("newAddress")}}})]),t("el-table",{attrs:{data:s.addressList,stripe:"",border:""}},[t("el-table-column",{attrs:{prop:"address",label:"账户",align:"center","min-width":"200"}}),t("el-table-column",{attrs:{prop:"balance",label:"余额",align:"center"}}),t("el-table-column",{attrs:{label:"别名",align:"center"},scopedSlots:s._u([{key:"default",fn:function(e){return[t("span",{directives:[{name:"show",rawName:"v-show",value:e.row.alias,expression:"scope.row.alias"}]},[s._v(s._s(e.row.alias))]),t("span",{directives:[{name:"show",rawName:"v-show",value:!e.row.alias,expression:"!scope.row.alias"}],on:{click:function(t){return s.addAlias(e.row)}}},[t("i",{staticClass:"el-icon-edit-outline click"})])]}}])}),t("el-table-column",{attrs:{label:"备注",align:"center"},scopedSlots:s._u([{key:"default",fn:function(e){return[t("span",{directives:[{name:"show",rawName:"v-show",value:""!==e.row.remark,expression:"scope.row.remark !=='' "}],staticClass:"click",on:{click:function(t){return s.editRemark(e.row)}}},[s._v(s._s(e.row.remark))]),t("span",{directives:[{name:"show",rawName:"v-show",value:""===e.row.remark,expression:"scope.row.remark ==='' "}],on:{click:function(t){return s.editRemark(e.row)}}},[t("i",{staticClass:"el-icon-edit-outline click"})])]}}])}),t("el-table-column",{attrs:{label:"操作",align:"center",width:"250"},scopedSlots:s._u([{key:"default",fn:function(e){return[t("label",{staticClass:"click tab_bn",on:{click:function(t){return s.editPassword(e.row)}}},[s._v("修改密码")]),t("span",{staticClass:"tab_line"},[s._v("|")]),t("label",{staticClass:"click tab_bn",on:{click:function(t){return s.backAddress(e.row)}}},[s._v("备份")]),t("span",{staticClass:"tab_line"},[s._v("|")]),t("label",{staticClass:"click tab_bn",on:{click:function(t){return s.deleteAddress(e.row)}}},[s._v("移除")])]}}])})],1),t("div",{staticClass:"pages"},[t("div",{staticClass:"page-total"},[s._v("共 "+s._s(s.addressList.length)+" 条")])])],1),t("el-dialog",{attrs:{title:"Remarks",width:"30rem",visible:s.remarkDialog,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(e){s.remarkDialog=e}}},[t("div",{staticClass:"address-remark bg-white"},[t("el-input",{attrs:{placeholder:"请输入备注"},model:{value:s.remarkInfo,callback:function(e){s.remarkInfo="string"===typeof e?e.trim():e},expression:"remarkInfo"}}),t("div",{staticClass:"btn-next"},[t("el-button",{on:{click:function(e){s.remarkDialog=!1}}},[s._v("取 消")]),t("el-button",{attrs:{type:"success"},on:{click:s.addRemark}},[s._v("确 定")])],1)],1)]),t("Password",{ref:"password",on:{passwordSubmit:s.passSubmit}})],1)},a=[],o=(t("96cf"),t("3b8d")),n=t("5d73"),i=t.n(n),l=t("f499"),d=t.n(l),c=t("0ad0"),u=t.n(c),f=t("d1f0"),p=t("6ace"),w={data:function(){return{addressList:[],selectAddressInfo:"",remarkDialog:!1,remarkInfo:""}},components:{Password:f["a"]},created:function(){this.getAddressList()},mounted:function(){this.getAddressLists(this.addressList)},methods:{getAddressList:function(){this.addressList=[];for(var s=localStorage.length-1;s>=0;s--)"SILENT"!==localStorage.getItem(localStorage.key(s))&&localStorage.key(s).length>10&&this.addressList.push(JSON.parse(localStorage.getItem(localStorage.key(s))));if(0!==this.addressList.length){var e=0,t=!0,r=!1,a=void 0;try{for(var o,n=i()(this.addressList);!(t=(o=n.next()).done);t=!0){var l=o.value;l.selection&&(e++,sessionStorage.setItem(l.address,d()(l)),e>1&&(l.selection=!1,localStorage.setItem(l.address,d()(l))))}}catch(c){r=!0,a=c}finally{try{t||null==n.return||n.return()}finally{if(r)throw a}}0===e&&(this.addressList[0].selection=!0,localStorage.setItem(this.addressList[0].address,d()(this.addressList[0])))}else this.$router.push({name:"newAddress",query:{address:""}})},getAddressInfoByNode:function(){var s=Object(o["a"])(regeneratorRuntime.mark(function s(e){return regeneratorRuntime.wrap(function(s){while(1)switch(s.prev=s.next){case 0:return e.alias="",e.balance=0,e.consensusLock=0,e.totalReward=0,s.next=6,this.$post("/","getAccount",[e.address]).then(function(s){s.hasOwnProperty("result")&&(e.alias=s.result.alias,e.balance=Object(p["g"])(s.result.balance),e.consensusLock=Object(p["g"])(s.result.consensusLock),e.totalReward=Object(p["g"])(s.result.totalReward)),localStorage.setItem(e.address,d()(e))}).catch(function(s){console.log("getAccount:"+s),localStorage.setItem(e.address,d()(e))});case 6:case"end":return s.stop()}},s,this)}));function e(e){return s.apply(this,arguments)}return e}(),getAddressLists:function(s){var e=this,t=!0,r=!1,a=void 0;try{for(var o,n=function(){var s=o.value;setTimeout(function(){e.getAddressInfoByNode(s)},500)},l=i()(s);!(t=(o=l.next()).done);t=!0)n()}catch(d){r=!0,a=d}finally{try{t||null==l.return||l.return()}finally{if(r)throw a}}},addAlias:function(s){0===s.balance?this.$message({message:"对不起，账户余额不足!",type:"error",duration:1e3}):this.toUrl("setAlias",s.address)},editPassword:function(s){this.toUrl("editPassword",s.address)},backAddress:function(s){this.selectAddressInfo=s,this.$router.push({name:"newAddress",query:{address:s.address,aesPri:s.aesPri}})},deleteAddress:function(s){this.selectAddressInfo=s,this.$refs.password.showPassword(!0)},passSubmit:function(s){var e=u.a.decrypteOfAES(this.selectAddressInfo.aesPri,s),t=u.a.importByKey(2,e,s);t.address===this.selectAddressInfo.address?(localStorage.removeItem(this.selectAddressInfo.address),sessionStorage.hasOwnProperty(this.selectAddressInfo.address)&&sessionStorage.removeItem(this.selectAddressInfo.address),this.getAddressList()):this.$message({message:"密码错误",type:"error",duration:1e3})},editRemark:function(s){this.selectAddressInfo=s,this.remarkInfo=this.selectAddressInfo.remark,this.remarkDialog=!0},addRemark:function(){this.selectAddressInfo.remark=this.remarkInfo,localStorage.setItem(this.selectAddressInfo.address,d()(this.selectAddressInfo)),this.remarkDialog=!1,this.selectAddressInfo=""},toUrl:function(s,e){this.$router.push({name:s,query:{address:e}})},handleSizeChange:function(s){console.log("每页 ".concat(s," 条"))},handleCurrentChange:function(s){console.log("当前页: ".concat(s))}}},m=w,h=(t("675f"),t("2877")),g=Object(h["a"])(m,r,a,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=chunk-51452d9e.ea8894aa.js.map
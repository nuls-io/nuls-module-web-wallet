(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e463e012"],{"2e64":function(t,e,s){"use strict";var a=s("ff03"),n=s.n(a);n.a},"3fb55":function(t,e,s){},b301:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"back",attrs:{backUrl:t.backUrl}},[s("span",{staticClass:"back-box",on:{click:t.back}},[s("i",{staticClass:"el-icon-arrow-left"}),s("span",[t._v(t._s(t.backTitle))])])])},n=[],r={props:{backTitle:{type:String,default:""},backUrl:{type:String,default:"1"},backParams:{type:String,default:""}},methods:{back:function(){"1"===this.backUrl?this.$router.go(-1):this.$router.push({name:this.backUrl})}}},o=r,i=(s("2e64"),s("2877")),l=Object(i["a"])(o,a,n,!1,null,null,null);e["a"]=l.exports},e10f:function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"txlist bg-gray"},[s("div",{staticClass:"bg-white"},[s("div",{staticClass:"w1200"},[s("BackBar",{attrs:{backTitle:t.$t("nav.wallet")}}),s("h3",{staticClass:"title"},[t._v("Token"+t._s(t.$t("home.home2")))])],1)]),s("div",{staticClass:"w1200"},[s("div",{directives:[{name:"loading",rawName:"v-loading",value:t.txListDataLoading,expression:"txListDataLoading"}]},[s("div",{staticClass:"filter"},[s("el-select",{attrs:{value:"0"===t.tokenValue?t.$t("public.allToke"):t.tokenValue},on:{change:t.channgeType}},t._l(t.tokenOptions,function(t){return s("el-option",{key:t.key,attrs:{label:t.tokenSymbol,value:t}})}),1)],1),s("el-table",{attrs:{data:t.txListData,stripe:"",border:""}},[s("el-table-column",{attrs:{label:t.$t("public.height"),align:"center",width:"80"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"click td",on:{click:function(s){return t.toUrl("height",e.row.height)}}},[t._v(t._s(e.row.height))])]}}])}),s("el-table-column",{attrs:{label:"TxID",align:"center",width:"210"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"click ",on:{click:function(s){return t.toUrl("transferInfo",e.row.txHash)}}},[t._v(t._s(e.row.txid))])]}}])}),s("el-table-column",{attrs:{label:t.$t("public.fromAddresss"),align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"click td",on:{click:function(s){return t.toUrl("address",e.row.fromAddress)}}},[t._v(t._s(e.row.fromAddresss))])]}}])}),s("el-table-column",{attrs:{label:t.$t("public.toAddresss"),align:"center",width:"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{staticClass:"click td",on:{click:function(s){return t.toUrl("address",e.row.toAddress)}}},[t._v(t._s(e.row.toAddresss))])]}}])}),s("el-table-column",{attrs:{prop:"createTime",label:t.$t("tab.tab5"),align:"center"}}),s("el-table-column",{attrs:{label:t.$t("public.amount"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",{class:e.row.fromAddress===t.addressInfo.address?"fred":"fCN"},[t._v("\n              "+t._s(e.row.fromAddress===t.addressInfo.address?-1*e.row.amount:e.row.amount)+"("+t._s(e.row.symbol)+")\n            ")])]}}])}),s("el-table-column",{attrs:{label:t.$t("public.balance"),align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("span",[t._v("\n              "+t._s(e.row.balance)+"("+t._s(e.row.symbol)+")\n            ")])]}}])})],1),s("div",{staticClass:"pages"},[s("div",{staticClass:"page-total"},[t._v("\n          "+t._s(t.pageIndex-1===0?1:(t.pageIndex-1)*t.pageSize)+"-"+t._s(t.pageIndex*t.pageSize)+"\n          of "+t._s(t.pageTotal)+"\n        ")]),s("el-pagination",{directives:[{name:"show",rawName:"v-show",value:t.pageTotal>t.pageSize,expression:"pageTotal > pageSize"}],staticClass:"fr",attrs:{"current-page":t.pageIndex,"page-size":t.pageSize,background:"",layout:" prev, pager, next, jumper",total:t.pageTotal},on:{"current-change":t.txListPages}})],1)],1)])])},n=[],r=(s("ac4d"),s("8a81"),s("ac6a"),s("c32d")),o=s.n(r),i=s("6ace"),l=s("b301"),c={data:function(){return{tokenOptions:[],tokenValue:"0",contractAddress:"",txListDataLoading:!0,txListData:[],pageIndex:1,pageSize:10,pageTotal:0,addressInfo:[],txListSetInterval:null}},created:function(){var t=this;this.addressInfo=Object(i["e"])(1),setInterval(function(){t.addressInfo=Object(i["e"])(1)},500)},watch:{addressInfo:function(t,e){t.address!==e.address&&e.address&&this.getTxlistByAddress(this.pageIndex,this.pageSize,this.addressInfo.address,this.contractAddress)}},mounted:function(){var t=this;setTimeout(function(){t.getTokenListByAddress(1,100,t.addressInfo.address),t.getTxlistByAddress(t.pageIndex,t.pageSize,t.addressInfo.address,t.contractAddress)},600),this.txListSetInterval=setInterval(function(){t.getTxlistByAddress(t.pageIndex,t.pageSize,t.addressInfo.address,t.contractAddress)},1e4)},destroyed:function(){clearInterval(this.txListSetInterval)},components:{BackBar:l["a"]},methods:{getTokenListByAddress:function(t,e,s){var a=this;this.$post("/","getAccountTokens",[t,e,s],"TokenTxList").then(function(t){if(t.hasOwnProperty("result")){a.tokenOptions=t.result.list;var e={contractAddress:"",key:"EtDfvZuukDf2mVy",tokenSymbol:a.$t("public.allToke")};a.tokenOptions.unshift(e)}})},getTxlistByAddress:function(t,e,s,a){var n=this;this.$post("/","getTokenTransfers",[t,e,s,a]).then(function(t){if(t.hasOwnProperty("result")){var e=!0,s=!1,a=void 0;try{for(var r,l=t.result.list[Symbol.iterator]();!(e=(r=l.next()).done);e=!0){var c=r.value;c.createTime=o()(Object(i["l"])(1e3*c.time)).format("YYYY-MM-DD HH:mm:ss"),c.txid=Object(i["o"])(c.txHash,10),c.fromAddresss=Object(i["o"])(c.fromAddress,6),c.toAddresss=Object(i["o"])(c.toAddress,6),c.balance=Object(i["p"])(c.toBalance,c.decimals),c.amount=Object(i["p"])(c.value,c.decimals)}}catch(d){s=!0,a=d}finally{try{e||null==l.return||l.return()}finally{if(s)throw a}}n.txListData=t.result.list,n.pageTotal=t.result.totalCount,n.txListDataLoading=!1}}).catch(function(t){console.log("getAccountTxs:"+t)})},channgeType:function(t){this.tokenValue=t.tokenSymbol,this.contractAddress=t.contractAddress,this.getTxlistByAddress(this.pageIndex,this.pageSize,this.addressInfo.address,this.contractAddress)},txListPages:function(t){this.pageIndex=t,this.getTxlistByAddress(this.pageIndex,this.pageSize,this.addressInfo.address,this.contractAddress)},toUrl:function(t,e){var s={hash:e};this.$router.push({name:t,query:s})}}},d=c,u=(s("e246"),s("2877")),f=Object(u["a"])(d,a,n,!1,null,null,null);e["default"]=f.exports},e246:function(t,e,s){"use strict";var a=s("3fb55"),n=s.n(a);n.a},ff03:function(t,e,s){}}]);
//# sourceMappingURL=chunk-e463e012.a9ed41a0.js.map
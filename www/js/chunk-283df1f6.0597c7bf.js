(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-283df1f6"],{"1af6":function(e,t,a){var s=a("63b6");s(s.S,"Array",{isArray:a("9003")})},"20fd":function(e,t,a){"use strict";var s=a("d9f6"),n=a("aebd");e.exports=function(e,t,a){t in e?s.f(e,t,n(0,a)):e[t]=a}},"549b":function(e,t,a){"use strict";var s=a("d864"),n=a("63b6"),l=a("241e"),i=a("b0dc"),r=a("3702"),o=a("b447"),c=a("20fd"),d=a("7cd6");n(n.S+n.F*!a("4ee1")(function(e){Array.from(e)}),"Array",{from:function(e){var t,a,n,u,p=l(e),f="function"==typeof this?this:Array,g=arguments.length,b=g>1?arguments[1]:void 0,h=void 0!==b,v=0,m=d(p);if(h&&(b=s(b,g>2?arguments[2]:void 0,2)),void 0==m||f==Array&&r(m))for(t=o(p.length),a=new f(t);t>v;v++)c(a,v,h?b(p[v],v):p[v]);else for(u=m.call(p),a=new f;!(n=u.next()).done;v++)c(a,v,h?i(u,b,[n.value,v],!0):n.value);return a.length=v,a}})},"54a1":function(e,t,a){a("6c1c"),a("1654"),e.exports=a("95d5")},"62e4":function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},"774e":function(e,t,a){e.exports=a("d2d5")},"7f7f":function(e,t,a){var s=a("86cc").f,n=Function.prototype,l=/^\s*function ([^ (]*)/,i="name";i in n||a("9e1e")&&s(n,i,{configurable:!0,get:function(){try{return(""+this).match(l)[1]}catch(e){return""}}})},"95d5":function(e,t,a){var s=a("40c3"),n=a("5168")("iterator"),l=a("481b");e.exports=a("584a").isIterable=function(e){var t=Object(e);return void 0!==t[n]||"@@iterator"in t||l.hasOwnProperty(s(t))}},a745:function(e,t,a){e.exports=a("f410")},bb51:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"home"},[e.addressInfo?a("h3",{staticClass:"title"},[e._v("\n    "+e._s(e.addressInfo.address)+"\n    "),a("span",{directives:[{name:"show",rawName:"v-show",value:e.addressInfo.alias,expression:"addressInfo.alias"}]},[e._v("("+e._s(e.addressInfo.alias)+")")]),a("i",{staticClass:"iconfont iconfuzhi clicks",on:{click:function(t){return e.copy(e.addressInfo.address)}}})]):e._e(),a("el-tabs",{staticClass:"w1200",on:{"tab-click":e.handleClick},model:{value:e.homeActive,callback:function(t){e.homeActive=t},expression:"homeActive"}},[a("el-tab-pane",{directives:[{name:"loading",rawName:"v-loading",value:e.assetsListLoading,expression:"assetsListLoading"}],attrs:{label:"主网资产",name:"homeFirst"}},[a("el-select",{attrs:{disabled:""},on:{change:e.channgeAsesets},model:{value:e.assetsValue,callback:function(t){e.assetsValue=t},expression:"assetsValue"}},e._l(e.assetsOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),a("el-table",{attrs:{data:e.addressAssetsData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"account",label:"资产",align:"center"}}),a("el-table-column",{attrs:{label:"类型",align:"center",width:"150"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(e.$t("addressType."+t.row.type)))])]}}])}),a("el-table-column",{attrs:{prop:"total",label:"总额"}}),a("el-table-column",{attrs:{label:"锁定"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{directives:[{name:"show",rawName:"v-show",value:"--"!==t.row.locking&&0!==t.row.locking,expression:"scope.row.locking !== '--' && scope.row.locking !==0 "}],staticClass:"click td",on:{click:function(t){return e.toUrl("frozenList")}}},[e._v(e._s(t.row.locking))]),a("span",{directives:[{name:"show",rawName:"v-show",value:"--"===t.row.locking||0===t.row.locking,expression:"scope.row.locking === '--' || scope.row.locking ===0"}]},[e._v(e._s(t.row.locking))])]}}])}),a("el-table-column",{attrs:{prop:"balance",label:"可用"}}),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center"}},[[a("label",{staticClass:"click tab_bn",on:{click:function(t){return e.toUrl("transfer")}}},[e._v("转账")]),a("span",{staticClass:"tab_line"},[e._v("|")]),a("label",{staticClass:"click tab_bn",on:{click:function(t){return e.toUrl("txList")}}},[e._v("交易记录")])]],2)],1),a("div",{staticClass:"pages"},[a("div",{staticClass:"page-total"},[e._v("\n          显示 "+e._s(e.pageNumber-1===0?1:(e.pageNumber-1)*e.pageSize)+"-"+e._s(e.pageNumber*e.pageSize)+"\n          共 "+e._s(e.addressAssetsData.length)+"\n        ")]),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.addressAssetsData.length>e.pageSize,expression:"addressAssetsData.length > pageSize"}],staticClass:"fr",attrs:{background:"",layout:" prev, pager, next, jumper",total:e.addressAssetsData.length},on:{"current-change":e.addressAssetsListPages}})],1)],1),a("el-tab-pane",{attrs:{label:"跨链资产",name:"homeSecond",disabled:""}},[a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.txListDataLoading,expression:"txListDataLoading"}]},[a("div",{staticClass:"filter"},[a("el-select",{model:{value:e.assetsValue,callback:function(t){e.assetsValue=t},expression:"assetsValue"}},e._l(e.assetsOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),a("el-select",{model:{value:e.typeValue,callback:function(t){e.typeValue=t},expression:"typeValue"}},e._l(e.typeOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),a("el-select",{model:{value:e.inAndOutValue,callback:function(t){e.inAndOutValue=t},expression:"inAndOutValue"}},e._l(e.inAndOutOptions,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}),1),a("el-switch",{attrs:{"active-text":"","inactive-text":"隐藏共识奖励",width:35},on:{change:e.changeHide},model:{value:e.isHide,callback:function(t){e.isHide=t},expression:"isHide"}})],1),a("el-table",{attrs:{data:e.txListData,stripe:"",border:""}},[a("el-table-column",{attrs:{prop:"account",label:"资产",align:"center",width:"100"}}),a("el-table-column",{attrs:{prop:"type",label:"类型",align:"center",width:"100"}}),a("el-table-column",{attrs:{label:"TxID",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",{staticClass:"click ",on:{click:function(t){return e.toUrl("transferInfo")}}},[e._v(e._s(t.row.txid))])]}}])}),a("el-table-column",{attrs:{prop:"createTime",label:"时间",align:"center"}}),a("el-table-column",{attrs:{prop:"tAddress",label:"交易地址",align:"center"}}),a("el-table-column",{attrs:{prop:"amount",label:"金额",align:"center"}}),a("el-table-column",{attrs:{prop:"balance",label:"余额",align:"center"}}),a("el-table-column",{attrs:{prop:"state",label:"状态",align:"center",width:"100"}})],1),a("div",{staticClass:"pages"},[a("div",{staticClass:"page-total"},[e._v("\n            显示 "+e._s(e.pageNumber-1===0?1:(e.pageNumber-1)*e.pageSize)+"-"+e._s(e.pageNumber*e.pageSize)+"\n            共 "+e._s(e.pageCount)+"\n          ")]),a("el-pagination",{directives:[{name:"show",rawName:"v-show",value:e.pageCount>e.pageSize,expression:"pageCount > pageSize"}],staticClass:"fr",attrs:{"current-page":e.pageNumber,"page-size":e.pageSize,background:"",layout:" prev, pager, next, jumper",total:e.pageCount},on:{"current-change":e.txListPages}})],1)],1)])],1)],1)},n=[],l=a("a745"),i=a.n(l);function r(e){if(i()(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}var o=a("774e"),c=a.n(o),d=a("c8bb"),u=a.n(d);function p(e){if(u()(Object(e))||"[object Arguments]"===Object.prototype.toString.call(e))return c()(e)}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function g(e){return r(e)||p(e)||f()}var b=a("5d73"),h=a.n(b),v=a("f499"),m=a.n(v),y=(a("6b54"),a("06db"),a("7f7f"),a("c1df")),k=a.n(y),A=a("6ace"),w={name:"home",data:function(){return{homeActive:"homeFirst",addressInfo:{},assetsListLoading:!0,addressAssetsData:[],assetsOptions:[{value:"0",label:"所有资产"},{value:"1",label:"普通资产"},{value:"2",label:"合约资产"}],assetsValue:"所有资产",txListDataLoading:!0,txListData:[],pageNumber:1,pageSize:10,pageCount:0,type:0,isHide:!1,typeOptions:[{value:"0",label:"所有交易"},{value:"1",label:"共识奖励"},{value:"2",label:"转账交易"},{value:"3",label:"设置别名"},{value:"4",label:"创建节点"},{value:"5",label:"加入共识"},{value:"6",label:"零钱换整"},{value:"7",label:"退出共识"},{value:"8",label:"黄牌惩罚"},{value:"9",label:"红牌惩罚"},{value:"10",label:"注销节点"},{value:"11",label:"通用数据"},{value:"12",label:"创建合约"},{value:"13",label:"调用合约"},{value:"14",label:"删除合约"},{value:"15",label:"合约转账"},{value:"16",label:"合约返还"},{value:"17",label:"通证转账"}],typeValue:"所有交易",inAndOutOptions:[{value:"0",label:"收入/支出"},{value:"1",label:"收入"},{value:"2",label:"支出"}],inAndOutValue:"收入/支出"}},components:{},created:function(){var e=this;this.addressInfo=JSON.parse(sessionStorage.getItem(sessionStorage.key(0))),setInterval(function(){e.addressInfo=JSON.parse(sessionStorage.getItem(sessionStorage.key(0)))},500),this.addressInfo?(this.getAddressInfoByNode(this.addressInfo.address),setTimeout(function(){e.getTokenListByAddress(e.pageNumber,e.pageSize,e.addressInfo.address)},200)):this.$router.push({name:"newAddress",query:{address:""}})},mounted:function(){},watch:{addressInfo:function(e,t){var a=this;e&&e.address!==t.address&&t.address&&("homeFirst"===this.homeActive?(this.getAddressInfoByNode(this.addressInfo.address),setTimeout(function(){a.getTokenListByAddress(a.pageNumber,a.pageSize,a.addressInfo.address)},200)):(this.pageNumber=1,this.pageSize=10,this.pageCount=0,this.getTxlistByAddress(this.pageNumber,this.pageSize,this.addressInfo.address,this.type,this.isHide)))}},methods:{handleClick:function(e){"homeSecond"===e.name&&(this.pageNumber=1,this.pageSize=10,this.pageCount=0,this.getTxlistByAddress(this.pageNumber,this.pageSize,this.addressInfo.address,this.type,this.isHide))},channgeAsesets:function(e){var t=this;this.assetsListLoading=!0,"1"===e.toString()?this.getAddressInfoByNode(this.addressInfo.address):"2"===e.toString()?(this.addressAssetsData=[],setTimeout(function(){t.getTokenListByAddress(t.pageNumber,t.pageSize,t.addressInfo.address)},200)):(this.getAddressInfoByNode(this.addressInfo.address),setTimeout(function(){t.getTokenListByAddress(t.pageNumber,t.pageSize,t.addressInfo.address)},200))},getAddressInfoByNode:function(e){var t=this;this.$post("/","getAccount",[e]).then(function(e){t.addressAssetsData=[];var a={};e.hasOwnProperty("result")?(a.account="NULS",a.type=1,a.total=Object(A["g"])(e.result.totalBalance),a.locking=Object(A["g"])(e.result.consensusLock+e.result.timeLock),a.balance=Object(A["g"])(e.result.balance)):(a.account="NULS",a.type=1,a.total=0,a.locking=0,a.balance=0),t.addressInfo.balance=a.balance,localStorage.setItem(t.addressInfo.address,m()(t.addressInfo)),sessionStorage.setItem(t.addressInfo.address,m()(t.addressInfo)),t.addressAssetsData.push(a),t.assetsListLoading=!1}).catch(function(e){console.log("getAccount:"+e),t.assetsListLoading=!1})},getTokenListByAddress:function(e,t,a){var s=this;this.$post("/","getAccountTokens",[e,t,a]).then(function(e){var t,a={};if(e.hasOwnProperty("result")){var n=!0,l=!1,i=void 0;try{for(var r,o=h()(e.result.list);!(n=(r=o.next()).done);n=!0){var c=r.value;c.account=c.tokenName,c.type=2,c.total=Object(A["g"])(c.balance,c.decimals),c.locking="--",c.balance=Object(A["g"])(c.balance,c.decimals)}}catch(d){l=!0,i=d}finally{try{n||null==o.return||o.return()}finally{if(l)throw i}}a=e.result.list}(t=s.addressAssetsData).push.apply(t,g(a)),s.assetsListLoading=!1}).catch(function(e){console.log("getAccountTokens:"+e),s.assetsListLoading=!1})},getTxlistByAddress:function(e,t,a,s,n){var l=this;this.txListDataLoading=!0,this.$post("/","getAccountTxs",[e,t,a,s,n]).then(function(e){if(e.hasOwnProperty("result")){var t=!0,a=!1,s=void 0;try{for(var n,i=h()(e.result.list);!(t=(n=i.next()).done);t=!0){var r=n.value;r.createTime=k()(Object(A["e"])(r.createTime)).format("YYYY-MM-DD HH:mm:ss"),r.txid=Object(A["f"])(r.txHash,8),r.balance=Object(A["g"])(r.balance)}}catch(o){a=!0,s=o}finally{try{t||null==i.return||i.return()}finally{if(a)throw s}}l.txListData=e.result.list,l.pageCount=e.result.totalCount,l.txListDataLoading=!1}})},addressAssetsListPages:function(e){console.log(e)},changeHide:function(e){this.isHide=e,this.pageNumber=1,this.getTxlistByAddress(this.pageNumber,this.pageSize,this.addressInfo.address,this.type,this.isHide)},txListPages:function(e){this.pageNumber=e,this.getTxlistByAddress(this.pageNumber,this.pageSize,this.addressInfo.address,this.type,this.isHide)},toUrl:function(e){this.$router.push({name:e})},copy:function(e){Object(A["d"])(e),this.$message({message:"已经复制完成",type:"success",duration:1e3})}}},x=w,L=(a("de16"),a("2877")),I=Object(L["a"])(x,s,n,!1,null,null,null);t["default"]=I.exports},c8bb:function(e,t,a){e.exports=a("54a1")},d2d5:function(e,t,a){a("1654"),a("549b"),e.exports=a("584a").Array.from},de16:function(e,t,a){"use strict";var s=a("f3e7"),n=a.n(s);n.a},f3e7:function(e,t,a){},f410:function(e,t,a){a("1af6"),e.exports=a("584a").Array.isArray}}]);
//# sourceMappingURL=chunk-283df1f6.0597c7bf.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5777448e"],{"11e9":function(e,t,n){var s=n("52a7"),a=n("4630"),o=n("6821"),i=n("6a99"),r=n("69a8"),l=n("c69a"),c=Object.getOwnPropertyDescriptor;t.f=n("9e1e")?c:function(e,t){if(e=o(e),t=i(t,!0),l)try{return c(e,t)}catch(n){}if(r(e,t))return a(!s.f.call(e,t),e[t])}},2209:function(e,t,n){},"2f21":function(e,t,n){"use strict";var s=n("79e5");e.exports=function(e,t){return!!e&&s(function(){t?e.call(null,function(){},1):e.call(null)})}},"55dd":function(e,t,n){"use strict";var s=n("5ca1"),a=n("d8e8"),o=n("4bf8"),i=n("79e5"),r=[].sort,l=[1,2,3];s(s.P+s.F*(i(function(){l.sort(void 0)})||!i(function(){l.sort(null)})||!n("2f21")(r)),"Array",{sort:function(e){return void 0===e?r.call(o(this)):r.call(o(this),a(e))}})},"5d6b":function(e,t,n){var s=n("e53d").parseInt,a=n("a1ce").trim,o=n("e692"),i=/^[-+]?0[xX]/;e.exports=8!==s(o+"08")||22!==s(o+"0x16")?function(e,t){var n=a(String(e),3);return s(n,t>>>0||(i.test(n)?16:10))}:s},"5dbc":function(e,t,n){var s=n("d3f4"),a=n("8b97").set;e.exports=function(e,t,n){var o,i=t.constructor;return i!==n&&"function"==typeof i&&(o=i.prototype)!==n.prototype&&s(o)&&a&&a(e,o),e}},"64c7":function(e,t,n){"use strict";var s=n("2209"),a=n.n(s);a.a},7445:function(e,t,n){var s=n("63b6"),a=n("5d6b");s(s.G+s.F*(parseInt!=a),{parseInt:a})},"7f7f":function(e,t,n){var s=n("86cc").f,a=Function.prototype,o=/^\s*function ([^ (]*)/,i="name";i in a||n("9e1e")&&s(a,i,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(e){return""}}})},"8b97":function(e,t,n){var s=n("d3f4"),a=n("cb7c"),o=function(e,t){if(a(e),!s(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,s){try{s=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),s(e,[]),t=!(e instanceof Array)}catch(a){t=!0}return function(e,n){return o(e,n),t?e.__proto__=n:s(e,n),e}}({},!1):void 0),check:o}},9093:function(e,t,n){var s=n("ce10"),a=n("e11e").concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return s(e,a)}},a1ce:function(e,t,n){var s=n("63b6"),a=n("25eb"),o=n("294c"),i=n("e692"),r="["+i+"]",l="​",c=RegExp("^"+r+r+"*"),u=RegExp(r+r+"*$"),d=function(e,t,n){var a={},r=o(function(){return!!i[e]()||l[e]()!=l}),c=a[e]=r?t(f):i[e];n&&(a[n]=c),s(s.P+s.F*r,"String",a)},f=d.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},aa77:function(e,t,n){var s=n("5ca1"),a=n("be13"),o=n("79e5"),i=n("fdef"),r="["+i+"]",l="​",c=RegExp("^"+r+r+"*"),u=RegExp(r+r+"*$"),d=function(e,t,n){var a={},r=o(function(){return!!i[e]()||l[e]()!=l}),c=a[e]=r?t(f):i[e];n&&(a[n]=c),s(s.P+s.F*r,"String",a)},f=d.trim=function(e,t){return e=String(a(e)),1&t&&(e=e.replace(c,"")),2&t&&(e=e.replace(u,"")),e};e.exports=d},b9e9:function(e,t,n){n("7445"),e.exports=n("584a").parseInt},c5cc:function(e,t,n){"use strict";n.r(t);var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"consensus bg-gray"},[n("h3",{staticClass:"title"},[e._v("\n        "+e._s(e.addressInfo.address)+"\n        "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.addressInfo.alias,expression:"addressInfo.alias"}]},[e._v("("+e._s(e.addressInfo.alias)+")")]),n("i",{staticClass:"iconfont icon-fuzhi clicks",on:{click:function(t){return e.copy(e.addressInfo.address)}}})]),n("div",{staticClass:"card w1200"},[n("div",{staticClass:"card-info left fl"},[n("h5",{staticClass:"card-title font18"},[e._v("我的共识")]),n("ul",[n("li",[e._v("总委托 "),n("label",[n("u",{staticClass:"td click",on:{click:function(t){return e.toUrl("consensusList")}}},[e._v(e._s(e.addressInfo.consensusLock))]),n("span",{staticClass:"fCN"},[e._v("NULS")])])]),n("li",[e._v("可用余额 "),n("label",[e._v(e._s(e.addressInfo.balance)),n("span",{staticClass:"fCN"},[e._v("NULS")])])]),n("li",[e._v("总共识奖励 "),n("label",[e._v(e._s(e.addressInfo.totalReward)),n("span",{staticClass:"fCN"},[e._v("NULS")])])])])]),n("div",{staticClass:"card-info right fr"},[n("h5",{staticClass:"card-title font18"},[e._v("\n                所有共识\n                "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.isNew,expression:"!isNew"}],staticClass:"font16 click fr",on:{click:function(t){return e.toUrl("newConsensus")}}},[e._v("创建")])]),n("ul",[n("li",[e._v("共识节点 "),n("label",[e._v(e._s(e.nodeCount.agentCount))])]),n("li",[e._v("总节点数 "),n("label",[e._v(e._s(e.nodeCount.totalCount))])]),n("li",[e._v("总委托量 "),n("label",[e._v(e._s(e.nulsCount.consensusTotal)),n("span",{staticClass:"fCN"},[e._v("NULS")])])])])])]),n("div",{staticClass:"cb"}),n("el-tabs",{staticClass:"w1200",on:{"tab-click":e.handleClick},model:{value:e.consensusActive,callback:function(t){e.consensusActive=t},expression:"consensusActive"}},[n("el-tab-pane",{attrs:{label:"所有节点",name:"consensusFirst"}},[n("div",{staticClass:"filter"},[n("SelectBar",{attrs:{typeOptions:e.nodeStatusOptions,typeName:"nodeStatus"},on:{change:e.changeNodeStatus},model:{value:e.nodeStatusRegion,callback:function(t){e.nodeStatusRegion=t},expression:"nodeStatusRegion"}}),n("SelectBar",{attrs:{typeOptions:e.nodeTypeOptions,typeName:"nodeType"},on:{change:e.changeNodeType},model:{value:e.nodeTypeRegion,callback:function(t){e.nodeTypeRegion=t},expression:"nodeTypeRegion"}}),n("el-input",{staticClass:"search",attrs:{placeholder:"请选择输入ID\\别名\\地址....","suffix-icon":"el-icon-search"},model:{value:e.searchValue,callback:function(t){e.searchValue=t},expression:"searchValue"}},[n("i",{staticClass:"iconfont icon-search_icon fr click"})])],1),n("div",{staticClass:"node"},[e._l(e.searchData,function(t){return n("div",{key:t.agentId,staticClass:"node_info"},[n("h4",{staticClass:"bg-gray"},[n("i",{directives:[{name:"show",rawName:"v-show",value:t.isNew,expression:"item.isNew"}],staticClass:"iconfont iconwo"}),e._v(" \n                        "),n("span",{staticClass:"uppercase"},[e._v(e._s(t.agentId))]),e._v(" \n                        "),n("i",{staticClass:"iconfont",class:0===t.status?"icondaigongshi fred":"icongongshizhong fCN"}),n("i",{staticClass:"follow el-icon-star-off"})]),n("ul",{staticClass:"bg-white click",on:{click:function(n){return e.toUrl("consensusInfo",t.txHash)}}},[n("li",[e._v("别名"),n("span",[e._v(e._s(t.agentAlias))])]),n("li",[e._v("佣金比例 "),n("span",[e._v(e._s(t.commissionRate)+"%")])]),n("li",[e._v("总委托量"),n("span",[e._v(e._s(t.totalDeposit))])]),n("li",[e._v("参与人数"),n("span",[e._v(e._s(t.depositCount))])]),n("li",[e._v("保证金"),n("span",[e._v(e._s(t.deposit))])]),n("li",[e._v("信用值"),n("span",[e._v(e._s(t.creditValue))])])])])}),n("div",{staticClass:"cb"})],2)]),n("el-tab-pane",{attrs:{label:"我的节点",name:"consensusSecond"}},[n("div",{staticClass:"node"},[e._l(e.myNodeData,function(t){return n("div",{key:t.agentId,staticClass:"node_info"},[n("h4",{staticClass:"bg-gray"},[n("i",{directives:[{name:"show",rawName:"v-show",value:t.isNew,expression:"item.isNew"}],staticClass:"iconfont iconwo"}),e._v(" \n                        "),n("span",{staticClass:"uppercase"},[e._v(e._s(t.agentId))]),e._v(" \n                        "),n("i",{staticClass:"iconfont",class:0===t.status?"icondaigongshi fred":"icongongshizhong fCN"}),n("i",{staticClass:"follow el-icon-star-off"})]),n("ul",{staticClass:"bg-white click",on:{click:function(n){return e.toUrl("consensusInfo",t.txHash)}}},[n("li",[e._v("别名"),n("span",[e._v(e._s(t.agentAlias))])]),n("li",[e._v("佣金比例 "),n("span",[e._v(e._s(t.commissionRate)+"%")])]),n("li",[e._v("总委托量"),n("span",[e._v(e._s(t.totalDeposit/1e8))])]),n("li",[e._v("参与人数"),n("span",[e._v(e._s(t.depositCount))])]),n("li",[e._v("保证金"),n("span",[e._v(e._s(t.deposit/1e8))])]),n("li",[e._v("信用值"),n("span",[e._v(e._s(t.creditValue))])])])])}),n("div",{staticClass:"cb"})],2)])],1)],1)},a=[],o=(n("7f7f"),n("55dd"),n("c5f6"),n("e814")),i=n.n(o),r=n("5d73"),l=n.n(r),c=n("f499"),u=n.n(c),d=(n("96cf"),n("3b8d")),f=n("a4bb"),p=n.n(f),v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-select",{attrs:{value:e.$t(e.typeName+"."+e.value)},on:{input:function(t){return e.change(t)}}},e._l(e.typeOptions,function(t){return n("el-option",{key:t.value,attrs:{label:e.$t(e.typeName+"."+t.label),value:t.value}})}),1)},h=[],g={props:{value:{default:0},typeOptions:{type:Array,default:function(){return[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"100",label:"100"},{value:"101",label:"101"},{value:"102",label:"102"},{value:"103",label:"103"},{value:"104",label:"104"}]}},typeName:{type:String,default:"type"}},methods:{change:function(e){this.$emit("change",e)}}},b=g,C=n("2877"),_=Object(C["a"])(b,v,h,!1,null,null,null),N=_.exports,y=n("6ace"),I={name:"consensus",data:function(){return{consensusActive:"consensusFirst",nodeCount:{agentCount:0,totalCount:0},nulsCount:{consensusTotal:0},nodeTypeOptions:[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"}],nodeTypeRegion:0,nodeStatusOptions:[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"}],nodeStatusRegion:0,searchValue:"",allNodeData:[],addressInfo:[],isNew:!1,pageIndex:1,pageSize:20,pageTotal:0,myNodeData:[],setInterval:null}},components:{SelectBar:N},created:function(){var e=this;this.addressInfo=JSON.parse(sessionStorage.getItem(sessionStorage.key(0))),setInterval(function(){e.addressInfo=JSON.parse(sessionStorage.getItem(sessionStorage.key(0)))},500),this.getConsensusNodeCount(),this.getCoinInfo()},mounted:function(){var e=this;this.getConsensusNodes(this.pageIndex,this.pageSize,this.nodeTypeRegion),this.getConsensusInfoByAddress(this.pageIndex,this.pageSize,this.addressInfo.address),this.setInterval=setInterval(function(){e.getAddressInfoByNode(e.addressInfo)},1e4)},destroyed:function(){clearInterval(this.setInterval)},computed:{searchData:function(){var e=this.searchValue;return e?this.allNodeData.filter(function(t){return p()(t).some(function(n){return String(t[n]).toLowerCase().indexOf(e.toLowerCase())>-1})}):this.allNodeData}},watch:{addressInfo:function(e,t){e.address!==t.address&&t.address&&(this.isNew=!1,this.getConsensusNodeCount(),this.getCoinInfo(),this.getConsensusNodes(this.pageIndex,this.pageSize,this.nodeTypeRegion),this.getConsensusInfoByAddress(this.pageIndex,this.pageSize,this.addressInfo.address))}},methods:{getAddressInfoByNode:function(){var e=Object(d["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t.alias="",t.balance=0,t.consensusLock=0,t.totalReward=0,e.next=6,this.$post("/","getAccount",[t.address]).then(function(e){e.hasOwnProperty("result")&&(t.alias=e.result.alias,t.balance=Object(y["g"])(e.result.balance),t.consensusLock=Object(y["g"])(e.result.consensusLock),t.totalReward=Object(y["g"])(e.result.totalReward)),localStorage.setItem(t.address,u()(t))}).catch(function(e){console.log("getAccount:"+e),localStorage.setItem(t.address,u()(t))});case 6:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getConsensusNodeCount:function(){var e=this;this.$post("/","getConsensusNodeCount",[]).then(function(t){t.hasOwnProperty("result")?e.nodeCount=t.result:(e.nodeCount.agentCount=0,e.nodeCount.totalCount=0)}).catch(function(t){e.nodeCount.agentCount=0,e.nodeCount.totalCount=0,console.log("getConsensusNodeCount:"+t)})},getCoinInfo:function(){var e=this;this.$post("/","getCoinInfo",[]).then(function(t){t.hasOwnProperty("result")?(e.nulsCount.circulation=Object(y["g"])(t.result.circulation),e.nulsCount.consensusTotal=Object(y["g"])(t.result.consensusTotal),e.nulsCount.total=Object(y["g"])(t.result.total)):(e.nulsCount.circulation=0,e.nulsCount.consensusTotal=0,e.nulsCount.total=0)}).catch(function(t){e.nulsCount.circulation=0,e.nulsCount.consensusTotal=0,e.nulsCount.total=0,console.log("getCoinInfo:"+t)})},getConsensusNodes:function(e,t,n){var s=this;this.$post("/","getConsensusNodes",[e,t,n]).then(function(e){if(e.hasOwnProperty("result")){var t=!0,n=!1,a=void 0;try{for(var o,i=l()(e.result.list);!(t=(o=i.next()).done);t=!0){var r=o.value;r.bozhengjin=r.deposit,r.deposit=Object(y["g"])(r.deposit),r.agentReward=Object(y["g"])(r.agentReward),r.totalDeposit=Object(y["g"])(r.totalDeposit),r.totalReward=Object(y["g"])(r.totalReward),r.agentAddress===s.addressInfo.address?r.isNew=!0:r.isNew=!1}}catch(c){n=!0,a=c}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}s.allNodeData=e.result.list}}).catch(function(e){console.log("getConsensusNodes:"+e)})},getConsensusInfoByAddress:function(e,t,n){var s=this;this.$post("/","getAccountConsensus",[e,t,n]).then(function(e){if(e.hasOwnProperty("result")){s.myNodeData=e.result.list;var t=!0,n=!1,a=void 0;try{for(var o,i=l()(e.result.list);!(t=(o=i.next()).done);t=!0){var r=o.value;r.agentAddress===s.addressInfo.address?(r.isNew=!0,s.isNew=!0):(r.isNew=!1,s.isNew=!1)}}catch(c){n=!0,a=c}finally{try{t||null==i.return||i.return()}finally{if(n)throw a}}}}).catch(function(e){console.log("getAccountConsensus:"+e)})},changeNodeStatus:function(e){this.nodeStatusRegion=e,this.getConsensusNodes(this.pageIndex,this.pageSize,this.nodeStatusRegion)},changeNodeType:function(e){switch(this.nodeTypeRegion=i()(e),e){case 1:this.nodeTypeSort(this.allNodeData,"creditValue");break;case 2:this.nodeTypeSort(this.allNodeData,"commissionRate");break;case 3:this.nodeTypeSort(this.allNodeData,"totalDeposit");break;case 4:this.nodeTypeSort(this.allNodeData,"bozhengjin");break;default:this.getConsensusNodes(this.pageIndex,this.pageSize,this.nodeStatusRegion)}},nodeTypeSort:function(e,t){var n=function(e){return function(t,n){var s=t[e],a=n[e];return isNaN(Number(s))||isNaN(Number(a))||(s=Number(s),a=Number(a)),s>a?-1:s<a?1:0}};return e.sort(n(t))},toUrl:function(e,t){var n={};n="consensusInfo"===e?{hash:t}:{},this.$router.push({name:e,query:n})},copy:function(e){Object(y["d"])(e),this.$message({message:"已经复制完成",type:"success",duration:1e3})},handleClick:function(e){this.consensusActive=e.name,"consensusFirst"===e.name?this.getConsensusNodes(this.pageIndex,this.pageSize,this.nodeTypeRegion):this.getConsensusInfoByAddress(this.pageIndex,this.pageSize,this.addressInfo.address)}}},w=I,m=(n("64c7"),Object(C["a"])(w,s,a,!1,null,null,null));t["default"]=m.exports},c5f6:function(e,t,n){"use strict";var s=n("7726"),a=n("69a8"),o=n("2d95"),i=n("5dbc"),r=n("6a99"),l=n("79e5"),c=n("9093").f,u=n("11e9").f,d=n("86cc").f,f=n("aa77").trim,p="Number",v=s[p],h=v,g=v.prototype,b=o(n("2aeb")(g))==p,C="trim"in String.prototype,_=function(e){var t=r(e,!1);if("string"==typeof t&&t.length>2){t=C?t.trim():f(t,3);var n,s,a,o=t.charCodeAt(0);if(43===o||45===o){if(n=t.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(t.charCodeAt(1)){case 66:case 98:s=2,a=49;break;case 79:case 111:s=8,a=55;break;default:return+t}for(var i,l=t.slice(2),c=0,u=l.length;c<u;c++)if(i=l.charCodeAt(c),i<48||i>a)return NaN;return parseInt(l,s)}}return+t};if(!v(" 0o1")||!v("0b1")||v("+0x1")){v=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof v&&(b?l(function(){g.valueOf.call(n)}):o(n)!=p)?i(new h(_(t)),n,v):_(t)};for(var N,y=n("9e1e")?c(h):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),I=0;y.length>I;I++)a(h,N=y[I])&&!a(v,N)&&d(v,N,u(h,N));v.prototype=g,g.constructor=v,n("2aba")(s,p,v)}},e692:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e814:function(e,t,n){e.exports=n("b9e9")},fdef:function(e,t){e.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-5777448e.775de158.js.map
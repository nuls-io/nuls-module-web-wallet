(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1f35fc20"],{"0a49":function(e,t,r){var s=r("9b43"),n=r("626a"),a=r("4bf8"),o=r("9def"),c=r("cd1c");e.exports=function(e,t){var r=1==e,u=2==e,i=3==e,d=4==e,l=6==e,f=5==e||l,p=t||c;return function(t,c,h){for(var w,m,b=a(t),v=n(b),P=s(c,h,3),g=o(v.length),y=0,x=r?p(t,g):u?p(t,0):void 0;g>y;y++)if((f||y in v)&&(w=v[y],m=P(w,y,b),e))if(r)x[y]=m;else if(m)switch(e){case 3:return!0;case 5:return w;case 6:return y;case 2:x.push(w)}else if(d)return!1;return l?-1:i||d?d:x}}},1169:function(e,t,r){var s=r("2d95");e.exports=Array.isArray||function(e){return"Array"==s(e)}},1959:function(e,t,r){"use strict";r.d(t,"i",function(){return i}),r.d(t,"d",function(){return d}),r.d(t,"c",function(){return l}),r.d(t,"h",function(){return p}),r.d(t,"f",function(){return w}),r.d(t,"k",function(){return b}),r.d(t,"b",function(){return P}),r.d(t,"j",function(){return y}),r.d(t,"a",function(){return k}),r.d(t,"e",function(){return $}),r.d(t,"g",function(){return A});r("7514");var s=r("f499"),n=r.n(s),a=(r("c5f6"),r("6b54"),r("06db"),r("96cf"),r("3b8d")),o=r("9f30"),c=r("6ace"),u=r("db49");function i(e){return e===u["e"].chainId}function d(e,t){var r=e.txSerialize().length;return r+=110*t,1e5*Math.ceil(r/1024)}function l(e,t){return f.apply(this,arguments)}function f(){return f=Object(a["a"])(regeneratorRuntime.mark(function e(t,r){var s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return s=0,e.next=3,Object(o["a"])("/","getByzantineCount",[t.txSerialize().toString("hex")]).then(function(e){if(e.hasOwnProperty("result")){var n=t.txSerialize().length;n+=110*(r+e.result.value),s=1e6*Math.ceil(n/1024)}else s=-100}).catch(function(e){console.log(e),s=-100});case 3:return e.abrupt("return",s);case 4:case"end":return e.stop()}},e)})),f.apply(this,arguments)}function p(e,t,r){return h.apply(this,arguments)}function h(){return h=Object(a["a"])(regeneratorRuntime.mark(function e(t,r,s){var n,a,o,u,i,d,l,f;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=Number(Object(c["b"])(t.amount,t.fee)),a=0,o=r.nonce,u=t.amount,i=0,4===s?i=-1:5===s?i=-1:6===s?(n=t.amount,a=-1,o=t.depositHash.substring(t.depositHash.length-16),u=t.amount-t.fee):9===s?(n=t.amount,a=-1,o=t.depositHash.substring(t.depositHash.length-16),u=t.amount-t.fee,i=(new Date).valueOf()+2592e5):16===s&&(n=t.amount),d=[{address:t.fromAddress,assetsChainId:t.assetsChainId,assetsId:t.assetsId,amount:n,locked:a,nonce:o}],2!==s||t.assetsChainId===Object(c["f"])()){e.next=16;break}return d[0].amount=t.amount,e.next=11,w(Object(c["f"])(),t.assetsId,t.fromAddress);case 11:if(l=e.sent,!(l.data.balance<1e5)){e.next=15;break}return console.log("余额小于手续费"),e.abrupt("return");case 15:d.push({address:t.fromAddress,assetsChainId:Object(c["f"])(),assetsId:t.assetsId,amount:1e5,locked:a,nonce:l.data.nonce});case 16:if(f=[],15!==s&&17!==s){e.next=19;break}return e.abrupt("return",{success:!0,data:{inputs:d,outputs:f}});case 19:if(16!==s){e.next=26;break}if(!t.toAddress){e.next=25;break}return t.value&&(f=[{address:t.toAddress,assetsChainId:t.assetsChainId,assetsId:t.assetsId,amount:t.value,lockTime:i}]),e.abrupt("return",{success:!0,data:{inputs:d,outputs:f}});case 25:u=t.value;case 26:return f=[{address:t.toAddress?t.toAddress:t.fromAddress,assetsChainId:t.assetsChainId,assetsId:t.assetsId,amount:u,lockTime:i}],e.abrupt("return",{success:!0,data:{inputs:d,outputs:f}});case 28:case"end":return e.stop()}},e)})),h.apply(this,arguments)}function w(){return m.apply(this,arguments)}function m(){return m=Object(a["a"])(regeneratorRuntime.mark(function e(){var t,r,s,n=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=n.length>0&&void 0!==n[0]?n[0]:2,r=n.length>1&&void 0!==n[1]?n[1]:1,s=n.length>2?n[2]:void 0,e.next=5,Object(o["a"])("/","getAccountBalance",[t,r,s]).then(function(e){return e.hasOwnProperty("result")?{success:!0,data:{balance:e.result.balance,nonce:e.result.nonce}}:{success:!1,data:e}}).catch(function(e){return{success:!1,data:e}});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)})),m.apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return v=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])("/","validateTx",[t]).then(function(e){return e.hasOwnProperty("result")?{success:!0,data:e.result}:{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),v.apply(this,arguments)}function P(e){return g.apply(this,arguments)}function g(){return g=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])("/","broadcastTx",[t]).then(function(e){return e.hasOwnProperty("result")?{success:!0,data:e.result}:{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),g.apply(this,arguments)}function y(e){return x.apply(this,arguments)}function x(){return x=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])("/","validateTx",[t]).then(function(e){if(e.hasOwnProperty("result")){var r=e.result.value;return Object(o["a"])("/","broadcastTx",[t]).then(function(e){return e.hasOwnProperty("result")?{success:!0,hash:r}:{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}})}return{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),x.apply(this,arguments)}function k(e){return O.apply(this,arguments)}function O(){return O=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])("/","getConsensusDeposit",[1,300,t]).then(function(e){return e.result}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),O.apply(this,arguments)}function $(e){return j.apply(this,arguments)}function j(){return j=Object(a["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o["a"])("/","getContractConstructor",[t]).then(function(e){return e.hasOwnProperty("result")?{success:!0,data:e.result.constructor}:{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),j.apply(this,arguments)}function F(){return I.apply(this,arguments)}function I(){return I=Object(a["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[{chainId:1,addressPrefix:"NULS"},{chainId:2,addressPrefix:"tNULS"}],e.next=3,Object(o["a"])("/","getAllAddressPrefix",[]).then(function(e){e.hasOwnProperty("result")?(sessionStorage.hasOwnProperty("prefixData")&&sessionStorage.removeItem("prefixData"),sessionStorage.setItem("prefixData",n()(e.result))):sessionStorage.setItem("prefixData",n()(t))}).catch(function(e){console.log(e),sessionStorage.setItem("prefixData",n()(t))});case 3:case"end":return e.stop()}},e)})),I.apply(this,arguments)}function A(e){return C.apply(this,arguments)}function C(){return C=Object(a["a"])(regeneratorRuntime.mark(function e(t){var r,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F();case 2:if(r=JSON.parse(sessionStorage.getItem("prefixData")),!r){e.next=8;break}return s=r.find(function(e){return e.chainId===t}),e.abrupt("return",s.addressPrefix);case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}},e)})),C.apply(this,arguments)}},"2e64":function(e,t,r){"use strict";var s=r("ff03"),n=r.n(s);n.a},"3a51":function(e,t,r){},7514:function(e,t,r){"use strict";var s=r("5ca1"),n=r("0a49")(5),a="find",o=!0;a in[]&&Array(1)[a](function(){o=!1}),s(s.P+s.F*o,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),r("9c6c")(a)},b301:function(e,t,r){"use strict";var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"back",attrs:{backUrl:e.backUrl}},[r("span",{staticClass:"back-box",on:{click:e.back}},[r("i",{staticClass:"el-icon-arrow-left"}),r("span",[e._v(e._s(e.backTitle))])])])},n=[],a={props:{backTitle:{type:String,default:""},backUrl:{type:String,default:"1"},backParams:{type:String,default:""}},methods:{back:function(){"1"===this.backUrl?this.$router.go(-1):this.$router.push({name:this.backUrl})}}},o=a,c=(r("2e64"),r("2877")),u=Object(c["a"])(o,s,n,!1,null,null,null);t["a"]=u.exports},b8ea:function(e,t,r){"use strict";var s=r("3a51"),n=r.n(s);n.a},cd1c:function(e,t,r){var s=r("e853");e.exports=function(e,t){return new(s(e))(t)}},ce96:function(e,t,r){"use strict";r.r(t);var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"new_address bg-gray"},[r("div",{staticClass:"bg-white"},[r("div",{staticClass:"w1200"},[r("BackBar",{attrs:{backTitle:e.$t("address.address0")}}),r("h3",{staticClass:"title"},[e._v(e._s(e.$t("editPassword.editPassword0"))+": "+e._s(this.$route.query.address))])],1)]),r("div",{staticClass:"new w1200 mt_20 bg-white"},[r("div",{staticClass:"w630"},[r("h3",{staticClass:"tc mzt_20"}),r("el-form",{ref:"passwordForm",staticClass:"mb_20",attrs:{model:e.passwordForm,"status-icon":"",rules:e.passwordRules}},[r("el-form-item",{attrs:{label:e.$t("editPassword.editPassword1"),prop:"oldPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.passwordForm.oldPass,callback:function(t){e.$set(e.passwordForm,"oldPass",t)},expression:"passwordForm.oldPass"}})],1),r("el-form-item",{attrs:{label:e.$t("editPassword.editPassword2"),prop:"newPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.passwordForm.newPass,callback:function(t){e.$set(e.passwordForm,"newPass",t)},expression:"passwordForm.newPass"}})],1),r("el-form-item",{attrs:{label:e.$t("editPassword.editPassword3"),prop:"checkPass"}},[r("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:e.passwordForm.checkPass,callback:function(t){e.$set(e.passwordForm,"checkPass",t)},expression:"passwordForm.checkPass"}})],1),r("el-form-item",{staticClass:"form-next"},[r("el-button",{attrs:{type:"success"},on:{click:function(t){return e.submitPasswordForm("passwordForm")}}},[e._v(e._s(e.$t("editPassword.editPassword4"))+"\n          ")]),r("div",[e._v(e._s(e.$t("editPassword.editPassword5"))),r("span",{staticClass:"click",on:{click:function(t){return e.toUrl("newAddress")}}},[e._v(" "+e._s(e.$t("public.re-import")))])])],1)],1)],1)])])},n=[],a=r("5d73"),o=r.n(a),c=r("f499"),u=r.n(c),i=r("0ad0"),d=r.n(i),l=r("b301"),f=r("6ace"),p=r("1959"),h={data:function(){var e=this,t=function(t,r,s){var n=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{8,20}$/;""===r?s(new Error(e.$t("editPassword.editPassword6"))):n.exec(r)?(""!==e.passwordForm.checkPass&&e.$refs.passwordForm.validateField("newPass"),s()):s(new Error(e.$t("editPassword.editPassword7")))},r=function(t,r,s){var n=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{8,20}$/;""===r?s(new Error(e.$t("editPassword.editPassword8"))):n.exec(r)?e.passwordForm.oldPass===e.passwordForm.newPass?s(new Error(e.$t("editPassword.editPassword9"))):(""!==e.passwordForm.checkPass&&e.$refs.passwordForm.validateField("checkPass"),s()):s(new Error(e.$t("editPassword.editPassword7")))},s=function(t,r,s){""===r?s(new Error(e.$t("editPassword.editPassword10"))):e.passwordForm.checkPass!==e.passwordForm.newPass?s(new Error(e.$t("editPassword.editPassword11"))):s()};return{addressInfo:{},passwordForm:{oldPass:"",newPass:"",checkPass:""},passwordRules:{oldPass:[{validator:t,trigger:"blur"}],newPass:[{validator:r,trigger:"blur"}],checkPass:[{validator:s,trigger:"blur"}]},editAddressInfo:"",prefix:""}},created:function(){var e=this;Object(p["g"])(Object(f["f"])()).then(function(t){e.prefix=t}).catch(function(t){console.log(t),e.prefix=""})},mounted:function(){},components:{BackBar:l["a"]},methods:{submitPasswordForm:function(e){var t=this,r=this.$route.query.address,s={},n=!0,a=!1,c=void 0;try{for(var i,l=o()(Object(f["e"])(0));!(n=(i=l.next()).done);n=!0){var p=i.value;p.address===r&&(s=p)}}catch(h){a=!0,c=h}finally{try{n||null==l.return||l.return()}finally{if(a)throw c}}this.$refs[e].validate(function(e){if(!e)return!1;var n=d.a.decrypteOfAES(s.aesPri,t.passwordForm.oldPass),a=d.a.importByKey(Object(f["f"])(),n,t.passwordForm.oldPass,t.prefix);if(a.address===r){var c=d.a.importByKey(Object(f["f"])(),n,t.passwordForm.newPass,t.prefix);s.aesPri=c.aesPri,s.pub=c.pub;var i=Object(f["e"])(0),l=!0,p=!1,w=void 0;try{for(var m,b=o()(i);!(l=(m=b.next()).done);l=!0){var v=m.value;v.address===s.address&&(v.aesPri=s.aesPri)}}catch(h){p=!0,w=h}finally{try{l||null==b.return||b.return()}finally{if(p)throw w}}localStorage.setItem(Object(f["g"])(),u()(i)),t.$message({message:t.$t("editPassword.editPassword12"),type:"success",duration:1e3}),t.toUrl("address")}else t.$message({message:t.$t("editPassword.editPassword13"),type:"error",duration:1e3})})},toUrl:function(e){"newAddress"===e?this.$router.push({name:e,query:{address:this.$route.query.address}}):this.$router.push({name:e})}}},w=h,m=(r("b8ea"),r("2877")),b=Object(m["a"])(w,s,n,!1,null,null,null);t["default"]=b.exports},e853:function(e,t,r){var s=r("d3f4"),n=r("1169"),a=r("2b4c")("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!n(t.prototype)||(t=void 0),s(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?Array:t}},ff03:function(e,t,r){}}]);
//# sourceMappingURL=chunk-1f35fc20.a5915f3f.js.map
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76262e21"],{"0a49":function(t,e,n){var s=n("9b43"),o=n("626a"),a=n("4bf8"),i=n("9def"),r=n("cd1c");t.exports=function(t,e){var n=1==t,c=2==t,l=3==t,u=4==t,d=6==t,f=5==t||d,v=e||r;return function(e,r,h){for(var p,b,g=a(e),_=o(g),y=s(r,h,3),C=i(_.length),w=0,I=n?v(e,C):c?v(e,0):void 0;C>w;w++)if((f||w in _)&&(p=_[w],b=y(p,w,g),t))if(n)I[w]=b;else if(b)switch(t){case 3:return!0;case 5:return p;case 6:return w;case 2:I.push(p)}else if(u)return!1;return d?-1:l||u?u:I}}},"1fa8":function(t,e,n){var s=n("cb7c");t.exports=function(t,e,n,o){try{return o?e(s(n)[0],n[1]):e(n)}catch(i){var a=t["return"];throw void 0!==a&&s(a.call(t)),i}}},"20d6":function(t,e,n){"use strict";var s=n("5ca1"),o=n("0a49")(6),a="findIndex",i=!0;a in[]&&Array(1)[a](function(){i=!1}),s(s.P+s.F*i,"Array",{findIndex:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")(a)},2209:function(t,e,n){},"27ee":function(t,e,n){var s=n("23c6"),o=n("2b4c")("iterator"),a=n("84f2");t.exports=n("8378").getIteratorMethod=function(t){if(void 0!=t)return t[o]||t["@@iterator"]||a[s(t)]}},"2f21":function(t,e,n){"use strict";var s=n("79e5");t.exports=function(t,e){return!!t&&s(function(){e?t.call(null,function(){},1):t.call(null)})}},"2fdb":function(t,e,n){"use strict";var s=n("5ca1"),o=n("d2c8"),a="includes";s(s.P+s.F*n("5147")(a),"String",{includes:function(t){return!!~o(this,t,a).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},"33a4":function(t,e,n){var s=n("84f2"),o=n("2b4c")("iterator"),a=Array.prototype;t.exports=function(t){return void 0!==t&&(s.Array===t||a[o]===t)}},"4a59":function(t,e,n){var s=n("9b43"),o=n("1fa8"),a=n("33a4"),i=n("cb7c"),r=n("9def"),c=n("27ee"),l={},u={};e=t.exports=function(t,e,n,d,f){var v,h,p,b,g=f?function(){return t}:c(t),_=s(n,d,e?2:1),y=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(a(g)){for(v=r(t.length);v>y;y++)if(b=e?_(i(h=t[y])[0],h[1]):_(t[y]),b===l||b===u)return b}else for(p=g.call(t);!(h=p.next()).done;)if(b=o(p,_,h.value,e),b===l||b===u)return b};e.BREAK=l,e.RETURN=u},"4ec4":function(t,e,n){"use strict";var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-select",{attrs:{value:t.$t(t.typeName+"."+t.value)},on:{input:function(e){return t.change(e)}}},t._l(t.typeOptions,function(e){return n("el-option",{key:e.value,attrs:{label:t.$t(t.typeName+"."+e.label),value:e.value}})}),1)},o=[],a={props:{value:{default:0},typeOptions:{type:Array,default:function(){return[{value:"0",label:"0"},{value:"1",label:"1"},{value:"2",label:"2"},{value:"3",label:"3"},{value:"4",label:"4"},{value:"5",label:"5"},{value:"6",label:"6"},{value:"7",label:"7"},{value:"8",label:"8"},{value:"9",label:"9"},{value:"10",label:"10"},{value:"11",label:"11"},{value:"12",label:"12"},{value:"13",label:"13"},{value:"14",label:"14"},{value:"15",label:"15"},{value:"16",label:"16"},{value:"17",label:"17"},{value:"18",label:"18"},{value:"19",label:"19"},{value:"20",label:"20"},{value:"21",label:"21"},{value:"22",label:"22"},{value:"23",label:"23"},{value:"24",label:"24"},{value:"25",label:"25"}]}},typeName:{type:String,default:"type"}},methods:{change:function(t){this.$emit("change",t)}}},i=a,r=n("2877"),c=Object(r["a"])(i,s,o,!1,null,null,null);e["a"]=c.exports},"4f7f":function(t,e,n){"use strict";var s=n("c26b"),o=n("b39a"),a="Set";t.exports=n("e0b8")(a,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return s.def(o(this,a),t=0===t?0:t,t)}},s)},5147:function(t,e,n){var s=n("2b4c")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[s]=!1,!"/./"[t](e)}catch(o){}}return!0}},"55dd":function(t,e,n){"use strict";var s=n("5ca1"),o=n("d8e8"),a=n("4bf8"),i=n("79e5"),r=[].sort,c=[1,2,3];s(s.P+s.F*(i(function(){c.sort(void 0)})||!i(function(){c.sort(null)})||!n("2f21")(r)),"Array",{sort:function(t){return void 0===t?r.call(a(this)):r.call(a(this),o(t))}})},"5cc5":function(t,e,n){var s=n("2b4c")("iterator"),o=!1;try{var a=[7][s]();a["return"]=function(){o=!0},Array.from(a,function(){throw 2})}catch(i){}t.exports=function(t,e){if(!e&&!o)return!1;var n=!1;try{var a=[7],r=a[s]();r.next=function(){return{done:n=!0}},a[s]=function(){return r},t(a)}catch(i){}return n}},"5df3":function(t,e,n){"use strict";var s=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=s(e,n),this._i+=t.length,{value:t,done:!1})})},"64c7":function(t,e,n){"use strict";var s=n("2209"),o=n.n(s);o.a},6762:function(t,e,n){"use strict";var s=n("5ca1"),o=n("c366")(!0);s(s.P,"Array",{includes:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),n("9c6c")("includes")},"7a56":function(t,e,n){"use strict";var s=n("7726"),o=n("86cc"),a=n("9e1e"),i=n("2b4c")("species");t.exports=function(t){var e=s[t];a&&e&&!e[i]&&o.f(e,i,{configurable:!0,get:function(){return this}})}},"7f7f":function(t,e,n){var s=n("86cc").f,o=Function.prototype,a=/^\s*function ([^ (]*)/,i="name";i in o||n("9e1e")&&s(o,i,{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(t){return""}}})},aae3:function(t,e,n){var s=n("d3f4"),o=n("2d95"),a=n("2b4c")("match");t.exports=function(t){var e;return s(t)&&(void 0!==(e=t[a])?!!e:"RegExp"==o(t))}},b39a:function(t,e,n){var s=n("d3f4");t.exports=function(t,e){if(!s(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},c26b:function(t,e,n){"use strict";var s=n("86cc").f,o=n("2aeb"),a=n("dcbc"),i=n("9b43"),r=n("f605"),c=n("4a59"),l=n("01f9"),u=n("d53b"),d=n("7a56"),f=n("9e1e"),v=n("67ab").fastKey,h=n("b39a"),p=f?"_s":"size",b=function(t,e){var n,s=v(e);if("F"!==s)return t._i[s];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,l){var u=t(function(t,s){r(t,u,e,"_i"),t._t=e,t._i=o(null),t._f=void 0,t._l=void 0,t[p]=0,void 0!=s&&c(s,n,t[l],t)});return a(u.prototype,{clear:function(){for(var t=h(this,e),n=t._i,s=t._f;s;s=s.n)s.r=!0,s.p&&(s.p=s.p.n=void 0),delete n[s.i];t._f=t._l=void 0,t[p]=0},delete:function(t){var n=h(this,e),s=b(n,t);if(s){var o=s.n,a=s.p;delete n._i[s.i],s.r=!0,a&&(a.n=o),o&&(o.p=a),n._f==s&&(n._f=o),n._l==s&&(n._l=a),n[p]--}return!!s},forEach:function(t){h(this,e);var n,s=i(t,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){s(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(t){return!!b(h(this,e),t)}}),f&&s(u.prototype,"size",{get:function(){return h(this,e)[p]}}),u},def:function(t,e,n){var s,o,a=b(t,e);return a?a.v=n:(t._l=a={i:o=v(e,!0),k:e,v:n,p:s=t._l,n:void 0,r:!1},t._f||(t._f=a),s&&(s.n=a),t[p]++,"F"!==o&&(t._i[o]=a)),t},getEntry:b,setStrong:function(t,e,n){l(t,e,function(t,n){this._t=h(t,e),this._k=n,this._l=void 0},function(){var t=this,e=t._k,n=t._l;while(n&&n.r)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?u(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,u(1))},n?"entries":"values",!n,!0),d(e)}}},c5cc:function(t,e,n){"use strict";n.r(e);var s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"consensus bg-gray"},[n("h3",{staticClass:"title"},[t._v("\n    "+t._s(t.addressInfo.address)+"\n    "),n("span",{directives:[{name:"show",rawName:"v-show",value:t.addressInfo.alias,expression:"addressInfo.alias"}]},[t._v(" | "+t._s(t.addressInfo.alias))]),n("i",{staticClass:"iconfont icon-fuzhi clicks",on:{click:function(e){return t.copy(t.addressInfo.address)}}})]),n("div",{staticClass:"card w1200"},[n("div",{staticClass:"card-info left fl"},[n("h5",{staticClass:"card-title font18"},[t._v("\n        "+t._s(t.$t("consensus.consensus0"))+"\n        "),n("span",{staticClass:"font14 fr"},[t._v(t._s(t.addressInfo.totalReward)),n("font",{staticClass:"fCN"},[t._v(" "+t._s(t.addressInfo.symbol))])],1)]),n("ul",[n("li",[t._v("\n          "+t._s(t.$t("consensus.consensus1"))+"\n          "),n("label",[n("u",{staticClass:"click",on:{click:function(e){return t.toUrl("consensusList",t.addressInfo.consensusLock)}}},[t._v(t._s(t.addressInfo.consensusLock))]),n("span",{staticClass:"fCN"},[t._v(t._s(t.addressInfo.symbol))])])]),n("li",[t._v("\n          "+t._s(t.$t("consensus.consensus2"))+"\n          "),n("label",[t._v(t._s(t.addressInfo.balance)),n("span",{staticClass:"fCN"},[t._v(t._s(t.addressInfo.symbol))])])]),n("li",[t._v("\n          "+t._s(t.$t("consensus.consensus3"))+"\n          "),n("label",[t._v(t._s(t.addressInfo.lastReward)),n("span",{staticClass:"fCN"},[t._v(t._s(t.addressInfo.symbol))])])])])]),n("div",{staticClass:"card-info right fr"},[n("h5",{staticClass:"card-title font18"},[t._v("\n        "+t._s(t.$t("consensus.consensus4"))+"\n        "),n("span",{directives:[{name:"show",rawName:"v-show",value:!t.isNew&&!t.isRed,expression:"!isNew && !isRed"}],staticClass:"font16 click fr",on:{click:function(e){return t.toUrl("newConsensus")}}},[t._v("\n          "+t._s(t.$t("consensus.consensus5"))+"\n        ")])]),n("ul",[n("li",[t._v("\n          "+t._s(t.$t("consensus.consensus8"))+"\n          "),n("label",[t._v(t._s(t.nulsCount.consensusTotal)),n("span",{staticClass:"fCN"},[t._v(t._s(t.addressInfo.symbol))])])]),n("li",[t._v(t._s(t.$t("consensus.consensus7"))+" "),n("label",[t._v(t._s(t.nodeCount.agentCount))])]),n("li",[t._v(t._s(t.$t("consensus.consensus6"))+" "),n("label",[t._v(t._s(t.nodeCount.consensusCount))])])])])]),n("div",{staticClass:"cb"}),n("el-tabs",{staticClass:"w1200",on:{"tab-click":t.handleClick},model:{value:t.consensusActive,callback:function(e){t.consensusActive=e},expression:"consensusActive"}},[n("el-tab-pane",{attrs:{label:t.$t("consensus.consensus9"),name:"consensusFirst"}},[n("div",{staticClass:"filter"},[n("SelectBar",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],attrs:{typeOptions:t.nodeStatusOptions,typeName:"nodeStatus"},on:{change:t.changeNodeStatus},model:{value:t.nodeStatusRegion,callback:function(e){t.nodeStatusRegion=e},expression:"nodeStatusRegion"}}),n("SelectBar",{attrs:{typeOptions:t.nodeTypeOptions,typeName:"nodeType"},on:{change:t.changeNodeType},model:{value:t.nodeTypeRegion,callback:function(e){t.nodeTypeRegion=e},expression:"nodeTypeRegion"}}),n("el-input",{staticClass:"search",attrs:{placeholder:t.$t("consensus.consensus10"),"suffix-icon":"el-icon-search"},model:{value:t.searchValue,callback:function(e){t.searchValue=e},expression:"searchValue"}},[n("i",{staticClass:"iconfont icon-search_icon fr click"})])],1),n("div",{staticClass:"node"},[t._l(t.searchData,function(e){return n("div",{key:e.agentId,staticClass:"node_info"},[n("h4",{staticClass:"bg-gray"},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.isNew,expression:"item.isNew"}],staticClass:"iconfont iconwo"}),t._v(" \n            "),n("span",{staticClass:"uppercase"},[t._v(t._s(e.agentId))]),t._v(" \n            "),n("i",{staticClass:"iconfont",class:0===e.status?"icondaigongshi fred":"icongongshizhong fCN"}),n("i",{staticClass:"follow clicks",class:e.isCollect?"el-icon-star-on fCN":"el-icon-star-off",on:{click:function(n){return t.collect(e)}}})]),n("ul",{staticClass:"bg-white click",on:{click:function(n){return t.toUrl("consensusInfo",e.txHash)}}},[n("li",[t._v(t._s(t.$t("public.alias"))),n("span",[t._v(t._s(e.agentAlias))])]),n("li",[t._v(t._s(t.$t("public.commission"))+" "),n("span",[t._v(t._s(e.commissionRate)+"%")])]),n("li",[t._v(t._s(t.$t("public.totalStake"))),n("span",[t._v(t._s(e.totalDeposit))])]),n("li",[t._v(t._s(t.$t("public.participants"))),n("span",[t._v(t._s(e.depositCount))])]),n("li",[t._v(t._s(t.$t("public.deposit"))),n("span",[t._v(t._s(e.deposit))])]),n("li",[t._v(t._s(t.$t("public.credit"))),n("span",[t._v(t._s(e.creditValue))])])])])}),n("div",{staticClass:"cb"})],2)]),n("el-tab-pane",{attrs:{label:t.$t("consensus.consensus11"),name:"consensusSecond"}},[n("div",{staticClass:"node"},[t._l(t.myNodeData,function(e){return n("div",{key:e.agentId,staticClass:"node_info"},[n("h4",{staticClass:"bg-gray"},[n("i",{directives:[{name:"show",rawName:"v-show",value:e.isNew,expression:"item.isNew"}],staticClass:"iconfont iconwo"}),t._v(" \n            "),n("span",{staticClass:"uppercase"},[t._v(t._s(e.agentId))]),t._v(" \n            "),n("i",{staticClass:"iconfont",class:0===e.status?"icondaigongshi fred":"icongongshizhong fCN"}),n("i",{staticClass:"follow clicks",class:e.isCollect?"el-icon-star-on fCN":"el-icon-star-off",on:{click:function(n){return t.collect(e)}}})]),n("ul",{staticClass:"bg-white click",on:{click:function(n){return t.toUrl("consensusInfo",e.txHash)}}},[n("li",[t._v(t._s(t.$t("public.alias"))),n("span",[t._v(t._s(e.agentAlias))])]),n("li",[t._v(t._s(t.$t("public.commission"))+" "),n("span",[t._v(t._s(e.commissionRate)+"%")])]),n("li",[t._v(t._s(t.$t("public.totalStake"))),n("span",[t._v(t._s(e.totalDeposit))])]),n("li",[t._v(t._s(t.$t("public.participants"))),n("span",[t._v(t._s(e.depositCount))])]),n("li",[t._v(t._s(t.$t("public.deposit"))),n("span",[t._v(t._s(e.deposit))])]),n("li",[t._v(t._s(t.$t("public.credit"))),n("span",[t._v(t._s(e.creditValue))])])])])}),n("div",{staticClass:"cb"})],2)])],1)],1)},o=[],a=(n("7f7f"),n("55dd"),n("c5f6"),n("75fc")),i=(n("5df3"),n("4f7f"),n("20d6"),n("6762"),n("2fdb"),n("ac4d"),n("8a81"),n("96cf"),n("3b8d")),r=(n("ac6a"),n("456d"),n("4ec4")),c=n("6ace"),l={name:"consensus",data:function(){return{consensusActive:"consensusFirst",nodeCount:{agentCount:0,totalCount:0},nulsCount:{consensusTotal:0},nodeTypeOptions:[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"},{value:4,label:"4"}],nodeTypeRegion:0,nodeStatusOptions:[{value:0,label:"0"},{value:1,label:"1"},{value:2,label:"2"},{value:3,label:"3"}],nodeStatusRegion:0,searchValue:"",allNodeData:[],addressInfo:[],agentAsset:JSON.parse(sessionStorage.getItem("info")),isRed:!1,isNew:!1,pageIndex:1,pageSize:500,pageTotal:0,myNodeData:[],setInterval:null}},components:{SelectBar:r["a"]},created:function(){var t=this;this.addressInfo=Object(c["e"])(1),setInterval(function(){t.addressInfo=Object(c["e"])(1)},500)},mounted:function(){var t=this;setTimeout(function(){t.getConsensusNodeCount(),t.getCoinInfo(),t.getConsensusNodes(t.pageIndex,t.pageSize,t.nodeTypeRegion),t.getAddressInfoByNode(t.addressInfo),t.getPunishByAddress(t.addressInfo.address)},600)},destroyed:function(){clearInterval(this.setInterval)},computed:{searchData:function(){var t=this.searchValue;return t?this.allNodeData.filter(function(e){return Object.keys(e).some(function(n){return String(e[n]).toLowerCase().indexOf(t.toLowerCase())>-1})}):this.allNodeData}},watch:{addressInfo:function(t,e){t.address!==e.address&&e.address&&(this.isNew=!1,this.getPunishByAddress(this.addressInfo.address),this.getConsensusNodeCount(),this.getCoinInfo(),this.getConsensusNodes(this.pageIndex,this.pageSize,this.nodeTypeRegion),this.getConsensusInfoByAddress(this.pageIndex,this.pageSize,this.addressInfo.address))}},methods:{getPunishByAddress:function(t){var e=this;this.$post("/","getPunishList",[1,1,2,t]).then(function(t){0!==t.result.list.length?e.isRed=!0:e.isRed=!1}).catch(function(t){e.$message({message:e.$t("public.err3")+t,type:"error",duration:1e3})})},getAddressInfoByNode:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.$post("/","getAccount",[e.address]).then(function(t){if(t.hasOwnProperty("result")){var n=Object(c["e"])(0),s=!0,o=!1,a=void 0;try{for(var i,r=n[Symbol.iterator]();!(s=(i=r.next()).done);s=!0){var l=i.value;l.address===e.address&&(l.alias=t.result.alias,l.symbol=t.result.symbol,l.balance=Object(c["p"])(t.result.balance),l.consensusLock=Object(c["p"])(t.result.consensusLock),l.totalReward=Object(c["p"])(t.result.totalReward),t.result.lastReward?l.lastReward=Object(c["p"])(t.result.lastReward):l.lastReward=0,l.totalIn=Object(c["p"])(t.result.totalIn),l.totalOut=Object(c["p"])(t.result.totalOut))}}catch(u){o=!0,a=u}finally{try{s||null==r.return||r.return()}finally{if(o)throw a}}localStorage.setItem(Object(c["g"])(),JSON.stringify(n))}}).catch(function(t){console.log("getAccount:"+t)});case 2:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getConsensusNodeCount:function(){var t=this;this.$post("/","getConsensusNodeCount",[]).then(function(e){e.hasOwnProperty("result")?t.nodeCount=e.result:(t.nodeCount.agentCount=0,t.nodeCount.totalCount=0)}).catch(function(e){t.nodeCount.agentCount=0,t.nodeCount.totalCount=0,console.log("getConsensusNodeCount:"+e)})},getCoinInfo:function(){var t=this;this.$post("/","getCoinInfo",[]).then(function(e){e.hasOwnProperty("result")?(t.nulsCount.circulation=Object(c["p"])(e.result.circulation),t.nulsCount.consensusTotal=Object(c["p"])(e.result.consensusTotal),t.nulsCount.total=Object(c["p"])(e.result.total)):(t.nulsCount.circulation=0,t.nulsCount.consensusTotal=0,t.nulsCount.total=0)}).catch(function(e){t.nulsCount.circulation=0,t.nulsCount.consensusTotal=0,t.nulsCount.total=0,console.log("getCoinInfo:"+e)})},getConsensusNodes:function(t,e,n){var s=this;this.$post("/","getConsensusNodes",[t,e,n]).then(function(t){if(t.hasOwnProperty("result")){s.addressInfo.collectList||(s.addressInfo.collectList=[]);var e=!0,n=!1,o=void 0;try{for(var a,i=t.result.list[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){var r=a.value;s.addressInfo.collectList.includes(r.agentId)?r.isCollect=!0:r.isCollect=!1,r.bozhengjin=r.deposit,r.deposit=Object(c["p"])(r.deposit),r.agentReward=Object(c["p"])(r.agentReward),r.totalDeposit=Object(c["p"])(r.totalDeposit),r.totalReward=Object(c["p"])(r.totalReward),r.agentAddress===s.addressInfo.address?s.isNew=!0:s.isNew=!1}}catch(l){n=!0,o=l}finally{try{e||null==i.return||i.return()}finally{if(n)throw o}}s.allNodeData=t.result.list}}).catch(function(t){console.log("getConsensusNodes:"+t)})},collect:function(t){if(this.addressInfo.hasOwnProperty("collectList")||(this.addressInfo.collectList=[]),this.addressInfo.collectList.includes(t.agentId)?this.addressInfo.collectList.splice(this.addressInfo.collectList.findIndex(function(e){return e===t.agentId}),1):this.addressInfo.collectList.push(t.agentId),"consensusFirst"===this.consensusActive){var e=!0,n=!1,s=void 0;try{for(var o,a=this.allNodeData[Symbol.iterator]();!(e=(o=a.next()).done);e=!0){var i=o.value;this.addressInfo.collectList.includes(i.agentId)?i.isCollect=!0:i.isCollect=!1}}catch(w){n=!0,s=w}finally{try{e||null==a.return||a.return()}finally{if(n)throw s}}}else{var r=!0,l=!1,u=void 0;try{for(var d,f=this.myNodeData[Symbol.iterator]();!(r=(d=f.next()).done);r=!0){var v=d.value;this.addressInfo.collectList.includes(v.agentId)?v.isCollect=!0:v.isCollect=!1}}catch(w){l=!0,u=w}finally{try{r||null==f.return||f.return()}finally{if(l)throw u}}}var h=Object(c["e"])(0),p=!0,b=!1,g=void 0;try{for(var _,y=h[Symbol.iterator]();!(p=(_=y.next()).done);p=!0){var C=_.value;C.address===this.addressInfo.address&&(C.collectList=this.addressInfo.collectList)}}catch(w){b=!0,g=w}finally{try{p||null==y.return||y.return()}finally{if(b)throw g}}localStorage.setItem(Object(c["g"])(),JSON.stringify(h))},getConsensusInfoByAddress:function(t,e,n){var s=this;this.$post("/","getAccountConsensus",[t,e,n]).then(function(t){if(t.hasOwnProperty("result")){var e=[],n=!0,o=!1,i=void 0;try{for(var r,l=t.result.list[Symbol.iterator]();!(n=(r=l.next()).done);n=!0){var u=r.value;s.addressInfo.collectList||(s.addressInfo.collectList=[]),s.addressInfo.collectList.includes(u.agentId)?u.isCollect=!0:u.isCollect=!1,e.push(u.agentId),u.deposit=Object(c["p"])(u.deposit),u.totalDeposit=Object(c["p"])(u.totalDeposit),u.totalReward=Object(c["p"])(u.totalReward),u.agentAddress===s.addressInfo.address?(u.isNew=!0,s.isNew=!0):(u.isNew=!1,s.isNew=!1)}}catch(w){o=!0,i=w}finally{try{n||null==l.return||l.return()}finally{if(o)throw i}}var d=new Set(e),f=new Set(s.addressInfo.collectList),v=new Set(Object(a["a"])(f).filter(function(t){return!d.has(t)})),h=[],p=!0,b=!1,g=void 0;try{for(var _,y=function(){var t=_.value;h.push(s.allNodeData.filter(function(e){return e.agentId===t})[0])},C=v[Symbol.iterator]();!(p=(_=C.next()).done);p=!0)y()}catch(w){b=!0,g=w}finally{try{p||null==C.return||C.return()}finally{if(b)throw g}}s.myNodeData=[].concat(Object(a["a"])(t.result.list),h)}}).catch(function(t){console.log("getAccountConsensus:"+t)})},changeNodeStatus:function(t){this.nodeStatusRegion=t,this.getConsensusNodes(this.pageIndex,this.pageSize,this.nodeStatusRegion)},changeNodeType:function(t){switch(this.nodeTypeRegion=parseInt(t),t){case 1:this.nodeTypeSort(this.allNodeData,"creditValue");break;case 2:this.nodeTypeSort(this.allNodeData,"commissionRate");break;case 3:this.nodeTypeSort(this.allNodeData,"totalDeposit");break;case 4:this.nodeTypeSort(this.allNodeData,"bozhengjin");break;default:this.getConsensusNodes(this.pageIndex,this.pageSize,this.nodeStatusRegion)}},nodeTypeSort:function(t,e){var n=function(t){return function(e,n){var s=e[t],o=n[t];return isNaN(Number(s))||isNaN(Number(o))||(s=Number(s),o=Number(o)),s>o?-1:s<o?1:0}};return t.sort(n(e))},toUrl:function(t,e){var n={};n="consensusInfo"===t?{hash:e}:{consensusLock:e},this.$router.push({name:t,query:n})},copy:function(t){Object(c["i"])(t),this.$message({message:this.$t("public.copySuccess"),type:"success",duration:1e3})},handleClick:function(t){this.consensusActive=t.name,"consensusFirst"===t.name?this.getConsensusNodes(this.pageIndex,this.pageSize,this.nodeTypeRegion):this.getConsensusInfoByAddress(this.pageIndex,this.pageSize,this.addressInfo.address)}}},u=l,d=(n("64c7"),n("2877")),f=Object(d["a"])(u,s,o,!1,null,null,null);e["default"]=f.exports},cd1c:function(t,e,n){var s=n("e853");t.exports=function(t,e){return new(s(t))(e)}},d2c8:function(t,e,n){var s=n("aae3"),o=n("be13");t.exports=function(t,e,n){if(s(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(o(t))}},dcbc:function(t,e,n){var s=n("2aba");t.exports=function(t,e,n){for(var o in e)s(t,o,e[o],n);return t}},e0b8:function(t,e,n){"use strict";var s=n("7726"),o=n("5ca1"),a=n("2aba"),i=n("dcbc"),r=n("67ab"),c=n("4a59"),l=n("f605"),u=n("d3f4"),d=n("79e5"),f=n("5cc5"),v=n("7f20"),h=n("5dbc");t.exports=function(t,e,n,p,b,g){var _=s[t],y=_,C=b?"set":"add",w=y&&y.prototype,I={},m=function(t){var e=w[t];a(w,t,"delete"==t?function(t){return!(g&&!u(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(g&&!u(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return g&&!u(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof y&&(g||w.forEach&&!d(function(){(new y).entries().next()}))){var N=new y,x=N[C](g?{}:-0,1)!=N,S=d(function(){N.has(1)}),O=f(function(t){new y(t)}),k=!g&&d(function(){var t=new y,e=5;while(e--)t[C](e,e);return!t.has(-0)});O||(y=e(function(e,n){l(e,y,t);var s=h(new _,e,y);return void 0!=n&&c(n,b,s[C],s),s}),y.prototype=w,w.constructor=y),(S||k)&&(m("delete"),m("has"),b&&m("get")),(k||x)&&m(C),g&&w.clear&&delete w.clear}else y=p.getConstructor(e,t,b,C),i(y.prototype,n),r.NEED=!0;return v(y,t),I[t]=y,o(o.G+o.W+o.F*(y!=_),I),g||p.setStrong(y,t,b),y}},e853:function(t,e,n){var s=n("d3f4"),o=n("1169"),a=n("2b4c")("species");t.exports=function(t){var e;return o(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!o(e.prototype)||(e=void 0),s(e)&&(e=e[a],null===e&&(e=void 0))),void 0===e?Array:e}},f605:function(t,e){t.exports=function(t,e,n,s){if(!(t instanceof e)||void 0!==s&&s in t)throw TypeError(n+": incorrect invocation!");return t}}}]);
//# sourceMappingURL=chunk-76262e21.b6fa4c21.js.map
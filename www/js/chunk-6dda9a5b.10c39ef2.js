(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6dda9a5b"],{"0a49":function(e,t,s){var r=s("9b43"),n=s("626a"),a=s("4bf8"),i=s("9def"),o=s("cd1c");e.exports=function(e,t){var s=1==e,c=2==e,u=3==e,d=4==e,l=6==e,f=5==e||l,p=t||o;return function(t,o,h){for(var m,w,b=a(t),v=n(b),g=r(o,h,3),k=i(v.length),y=0,x=s?p(t,k):c?p(t,0):void 0;k>y;y++)if((f||y in v)&&(m=v[y],w=g(m,y,b),e))if(s)x[y]=w;else if(w)switch(e){case 3:return!0;case 5:return m;case 6:return y;case 2:x.push(m)}else if(d)return!1;return l?-1:u||d?d:x}}},"188a":function(e,t,s){},1959:function(e,t,s){"use strict";s.d(t,"i",function(){return o}),s.d(t,"d",function(){return c}),s.d(t,"c",function(){return u}),s.d(t,"h",function(){return l}),s.d(t,"f",function(){return p}),s.d(t,"k",function(){return m}),s.d(t,"b",function(){return b}),s.d(t,"j",function(){return g}),s.d(t,"a",function(){return y}),s.d(t,"e",function(){return O}),s.d(t,"g",function(){return S});s("7514"),s("c5f6"),s("6b54"),s("96cf");var r=s("3b8d"),n=s("9f30"),a=s("6ace"),i=s("db49");function o(e){return e===i["e"].chainId}function c(e,t){var s=e.txSerialize().length;return s+=110*t,1e5*Math.ceil(s/1024)}function u(e,t){return d.apply(this,arguments)}function d(){return d=Object(r["a"])(regeneratorRuntime.mark(function e(t,s){var r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return r=0,e.next=3,Object(n["a"])("/","getByzantineCount",[t.txSerialize().toString("hex")]).then(function(e){if(e.hasOwnProperty("result")){var n=t.txSerialize().length;n+=110*(s+e.result.value),r=1e6*Math.ceil(n/1024)}else r=-100}).catch(function(e){console.log(e),r=-100});case 3:return e.abrupt("return",r);case 4:case"end":return e.stop()}},e)})),d.apply(this,arguments)}function l(e,t,s){return f.apply(this,arguments)}function f(){return f=Object(r["a"])(regeneratorRuntime.mark(function e(t,s,r){var n,i,o,c,u,d,l,f,h;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=Number(Object(a["b"])(t.amount,t.fee)),i=0,o=s.nonce,c=t.amount,u=0,4===r?u=-1:5===r?u=-1:6===r?(n=t.amount,i=-1,o=t.depositHash.substring(t.depositHash.length-16),c=t.amount-t.fee):9===r&&(n=t.amount,i=-1,o=t.depositHash.substring(t.depositHash.length-16),c=t.amount-t.fee,d=(new Date).valueOf()+2592e5,u=Number(d.toString().substr(0,d.toString().length-3))),l=[{address:t.fromAddress,assetsChainId:t.assetsChainId,assetsId:t.assetsId,amount:n,locked:i,nonce:o}],2!==r||t.assetsChainId===Object(a["f"])()){e.next=16;break}return l[0].amount=t.amount,e.next=11,p(Object(a["f"])(),t.assetsId,t.fromAddress);case 11:if(f=e.sent,!(f.data.balance<1e5)){e.next=15;break}return console.log("余额小于手续费"),e.abrupt("return");case 15:l.push({address:t.fromAddress,assetsChainId:Object(a["f"])(),assetsId:t.assetsId,amount:1e5,locked:i,nonce:f.data.nonce});case 16:if(h=[],15!==r&&17!==r){e.next=19;break}return e.abrupt("return",{success:!0,data:{inputs:l,outputs:h}});case 19:if(16!==r){e.next=22;break}return t.toAddress&&t.value&&(l[0].amount=t.amount,h=[{address:t.toAddress,assetsChainId:t.assetsChainId,assetsId:t.assetsId,amount:t.value,lockTime:u}]),e.abrupt("return",{success:!0,data:{inputs:l,outputs:h}});case 22:return h=[{address:t.toAddress?t.toAddress:t.fromAddress,assetsChainId:t.assetsChainId,assetsId:t.assetsId,amount:c,lockTime:u}],e.abrupt("return",{success:!0,data:{inputs:l,outputs:h}});case 24:case"end":return e.stop()}},e)})),f.apply(this,arguments)}function p(){return h.apply(this,arguments)}function h(){return h=Object(r["a"])(regeneratorRuntime.mark(function e(){var t,s,r,a=arguments;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:2,s=a.length>1&&void 0!==a[1]?a[1]:1,r=a.length>2?a[2]:void 0,e.next=5,Object(n["a"])("/","getAccountBalance",[t,s,r]).then(function(e){return e.hasOwnProperty("result")?{success:!0,data:{balance:e.result.balance,nonce:e.result.nonce}}:{success:!1,data:e}}).catch(function(e){return{success:!1,data:e}});case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}},e)})),h.apply(this,arguments)}function m(e){return w.apply(this,arguments)}function w(){return w=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])("/","validateTx",[t]).then(function(e){return e.hasOwnProperty("result")?{success:!0,data:e.result}:{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),w.apply(this,arguments)}function b(e){return v.apply(this,arguments)}function v(){return v=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])("/","broadcastTx",[t]).then(function(e){return e.hasOwnProperty("result")?{success:!0,data:e.result}:{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),v.apply(this,arguments)}function g(e){return k.apply(this,arguments)}function k(){return k=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])("/","validateTx",[t]).then(function(e){if(e.hasOwnProperty("result")){var s=e.result.value;return Object(n["a"])("/","broadcastTx",[t]).then(function(e){return e.hasOwnProperty("result")?{success:!0,hash:s}:{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}})}return{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),k.apply(this,arguments)}function y(e){return x.apply(this,arguments)}function x(){return x=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])("/","getConsensusDeposit",[1,300,t]).then(function(e){return e.result}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),x.apply(this,arguments)}function O(e){return I.apply(this,arguments)}function I(){return I=Object(r["a"])(regeneratorRuntime.mark(function e(t){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(n["a"])("/","getContractConstructor",[t]).then(function(e){return e.hasOwnProperty("result")?{success:!0,data:e.result.constructor}:{success:!1,data:e.error}}).catch(function(e){return{success:!1,data:e}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)})),I.apply(this,arguments)}function A(){return _.apply(this,arguments)}function _(){return _=Object(r["a"])(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=[{chainId:1,addressPrefix:"NULS"},{chainId:2,addressPrefix:"tNULS"}],e.next=3,Object(n["a"])("/","getAllAddressPrefix",[]).then(function(e){e.hasOwnProperty("result")?(sessionStorage.hasOwnProperty("prefixData")&&sessionStorage.removeItem("prefixData"),sessionStorage.setItem("prefixData",JSON.stringify(e.result))):sessionStorage.setItem("prefixData",JSON.stringify(t))}).catch(function(e){console.log(e),sessionStorage.setItem("prefixData",JSON.stringify(t))});case 3:case"end":return e.stop()}},e)})),_.apply(this,arguments)}function S(e){return j.apply(this,arguments)}function j(){return j=Object(r["a"])(regeneratorRuntime.mark(function e(t){var s,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,A();case 2:if(s=JSON.parse(sessionStorage.getItem("prefixData")),!s){e.next=8;break}return r=s.find(function(e){return e.chainId===t}),e.abrupt("return",r.addressPrefix);case 8:return e.abrupt("return","");case 9:case"end":return e.stop()}},e)})),j.apply(this,arguments)}},"20d6":function(e,t,s){"use strict";var r=s("5ca1"),n=s("0a49")(6),a="findIndex",i=!0;a in[]&&Array(1)[a](function(){i=!1}),r(r.P+r.F*i,"Array",{findIndex:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(a)},"675f":function(e,t,s){"use strict";var r=s("9823"),n=s.n(r);n.a},7514:function(e,t,s){"use strict";var r=s("5ca1"),n=s("0a49")(5),a="find",i=!0;a in[]&&Array(1)[a](function(){i=!1}),r(r.P+r.F*i,"Array",{find:function(e){return n(this,e,arguments.length>1?arguments[1]:void 0)}}),s("9c6c")(a)},7672:function(e,t,s){"use strict";var r=s("188a"),n=s.n(r);n.a},9823:function(e,t,s){},cd1c:function(e,t,s){var r=s("e853");e.exports=function(e,t){return new(r(e))(t)}},d1f0:function(e,t,s){"use strict";var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{staticClass:"password-dialog",attrs:{title:e.$t("password.password1"),visible:e.passwordVisible,top:"30vh",width:"30rem","close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.passwordVisible=t},open:e.passwordShow,close:e.passwordClose}},[s("el-form",{ref:"passwordForm",attrs:{model:e.passwordForm,rules:e.passwordRules},nativeOn:{submit:function(e){e.preventDefault()}}},[s("div",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}]},[e._v(e._s(e.$t("password.password1")))]),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{ref:"inpus",attrs:{type:"password",maxlength:22},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.enterSubmit("passwordForm")}},model:{value:e.passwordForm.password,callback:function(t){e.$set(e.passwordForm,"password",t)},expression:"passwordForm.password"}})],1)],1),s("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:e.passwordClose}},[e._v(e._s(e.$t("password.password2")))]),s("el-button",{attrs:{type:"success",id:"passwordInfo"},on:{click:function(t){return e.dialogSubmit("passwordForm")}}},[e._v(e._s(e.$t("password.password3"))+"\n    ")])],1)],1)},n=[],a={props:{},data:function(){var e=this,t=function(t,s,r){""===s?r(new Error(e.$t("password.password1"))):r()};return{passwordVisible:!1,passwordForm:{password:""},passwordRules:{password:[{validator:t,trigger:["blur","change"]}]}}},created:function(){},mounted:function(){},watch:{passwordVisible:function(e){var t=this;e&&setTimeout(function(){t.$refs["inpus"].focus()},200)}},methods:{enterSubmit:function(e){this.passwordForm.password&&this.dialogSubmit(e)},passwordShow:function(){},passwordClose:function(){this.$refs["passwordForm"].resetFields(),this.passwordVisible=!1},showPassword:function(e){this.passwordVisible=e},dialogSubmit:function(e){var t=this;this.$refs[e].validate(function(e){if(!e)return!1;t.$emit("passwordSubmit",t.passwordForm.password),t.passwordVisible=!1})}}},i=a,o=(s("7672"),s("2877")),c=Object(o["a"])(i,r,n,!1,null,null,null);t["a"]=c.exports},e853:function(e,t,s){var r=s("d3f4"),n=s("1169"),a=s("2b4c")("species");e.exports=function(e){var t;return n(e)&&(t=e.constructor,"function"!=typeof t||t!==Array&&!n(t.prototype)||(t=void 0),r(t)&&(t=t[a],null===t&&(t=void 0))),void 0===t?Array:t}},fe38:function(e,t,s){"use strict";s.r(t);var r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"address bg-gray"},[s("h3",{staticClass:"title"},[e._v(e._s(e.$t("address.address0")))]),s("div",{staticClass:"w1200 mt_20"},[s("div",{staticClass:"top_ico"},[s("i",{staticClass:"el-icon-plus click",on:{click:function(t){return e.toUrl("newAddress")}}})]),s("el-table",{attrs:{data:e.addressList,stripe:"",border:""}},[s("el-table-column",{attrs:{prop:"address",label:e.$t("address.address1"),align:"center","min-width":"330"}}),s("el-table-column",{attrs:{prop:"balance",label:e.$t("consensus.consensus2"),align:"center"}}),s("el-table-column",{attrs:{label:e.$t("address.address3"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{directives:[{name:"show",rawName:"v-show",value:t.row.alias,expression:"scope.row.alias"}]},[e._v(e._s(t.row.alias))]),s("span",{directives:[{name:"show",rawName:"v-show",value:!t.row.alias,expression:"!scope.row.alias"}],on:{click:function(s){return e.addAlias(t.row)}}},[s("i",{staticClass:"el-icon-edit-outline click"})])]}}])}),s("el-table-column",{attrs:{label:e.$t("address.address4"),align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("span",{directives:[{name:"show",rawName:"v-show",value:""!==t.row.remark,expression:"scope.row.remark !=='' "}],staticClass:"click",on:{click:function(s){return e.editRemark(t.row)}}},[e._v(e._s(t.row.remark))]),s("span",{directives:[{name:"show",rawName:"v-show",value:""===t.row.remark,expression:"scope.row.remark ==='' "}],on:{click:function(s){return e.editRemark(t.row)}}},[s("i",{staticClass:"el-icon-edit-outline click"})])]}}])}),s("el-table-column",{attrs:{label:e.$t("address.address5"),align:"center","min-width":"300"},scopedSlots:e._u([{key:"default",fn:function(t){return[s("label",{staticClass:"click tab_bn",on:{click:function(s){return e.editPassword(t.row)}}},[e._v(e._s(e.$t("address.address6")))]),s("span",{staticClass:"tab_line"},[e._v("|")]),s("label",{staticClass:"click tab_bn",on:{click:function(s){return e.backAddress(t.row)}}},[e._v(e._s(e.$t("address.address7")))]),s("span",{staticClass:"tab_line"},[e._v("|")]),s("label",{staticClass:"click tab_bn",on:{click:function(s){return e.deleteAddress(t.row)}}},[e._v(e._s(e.$t("address.address8")))]),s("span",{staticClass:"tab_line"},[e._v("|")]),t.row.selection?s("el-link",{attrs:{disabled:""}},[e._v(e._s(e.$t("public.into")))]):s("label",{staticClass:"click tab_bn",on:{click:function(s){return e.selectionAddress(t.row)}}},[e._v(e._s(e.$t("public.into")))])]}}])})],1),s("div",{staticClass:"pages"},[s("div",{staticClass:"page-total"},[e._v(e._s(e.$t("public.total"))+" "+e._s(e.addressList.length))])])],1),s("el-dialog",{attrs:{title:"Remarks",width:"30rem",visible:e.remarkDialog,"close-on-click-modal":!1,"close-on-press-escape":!1},on:{"update:visible":function(t){e.remarkDialog=t}}},[s("div",{staticClass:"address-remark bg-white"},[s("el-input",{attrs:{placeholder:e.$t("address.address9")},model:{value:e.remarkInfo,callback:function(t){e.remarkInfo="string"===typeof t?t.trim():t},expression:"remarkInfo"}}),s("div",{staticClass:"btn-next"},[s("el-button",{on:{click:function(t){e.remarkDialog=!1}}},[e._v(e._s(e.$t("address.address10")))]),s("el-button",{attrs:{type:"success"},on:{click:e.addRemark}},[e._v(e._s(e.$t("address.address11")))])],1)],1)]),s("Password",{ref:"password",on:{passwordSubmit:e.passSubmit}})],1)},n=[],a=(s("20d6"),s("ac4d"),s("8a81"),s("ac6a"),s("96cf"),s("3b8d")),i=s("0ad0"),o=s.n(i),c=s("d1f0"),u=s("6ace"),d=s("1959"),l={data:function(){return{addressList:[],selectAddressInfo:"",remarkDialog:!1,remarkInfo:"",prefix:""}},components:{Password:c["a"]},created:function(){var e=this;Object(d["g"])(Object(u["f"])()).then(function(t){e.prefix=t}).catch(function(t){console.log(t),e.prefix=""})},mounted:function(){var e=this;setTimeout(function(){e.getAddressList(),e.getAddressLists(e.addressList)},600)},methods:{getAddressList:function(){this.addressList=Object(u["e"])(0),0===this.addressList.length&&this.$router.push({name:"newAddress",query:{address:""}})},getAddressInfoByNode:function(){var e=Object(a["a"])(regeneratorRuntime.mark(function e(t){var s=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$post("/","getAccount",[t.address]).then(function(e){if(e.hasOwnProperty("result")){var r=!0,n=!1,a=void 0;try{for(var i,c=s.addressList[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var d=i.value;d.address===t.address&&(t.alias=e.result.alias,t.balance=Object(u["p"])(e.result.balance),t.consensusLock=Object(u["p"])(e.result.consensusLock),t.totalReward=Object(u["p"])(e.result.totalReward),t.tokens=[],t.chainId=o.a.verifyAddress(d.address).chainId)}}catch(l){n=!0,a=l}finally{try{r||null==c.return||c.return()}finally{if(n)throw a}}localStorage.setItem(Object(u["g"])(),JSON.stringify(s.addressList))}}).catch(function(e){console.log("getAccount:"+e)});case 2:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getAddressLists:function(e){var t=this,s=!0,r=!1,n=void 0;try{for(var a,i=function(){var e=a.value;setTimeout(function(){t.getAddressInfoByNode(e)},500)},o=e[Symbol.iterator]();!(s=(a=o.next()).done);s=!0)i()}catch(c){r=!0,n=c}finally{try{s||null==o.return||o.return()}finally{if(r)throw n}}},addAlias:function(e){0===e.balance?this.$message({message:this.$t("address.address12"),type:"error",duration:1e3}):this.toUrl("setAlias",e.address)},editPassword:function(e){this.toUrl("editPassword",e.address)},backAddress:function(e){this.selectAddressInfo=e,this.$router.push({name:"backupsAddress",query:{backAddressInfo:e}})},deleteAddress:function(e){this.selectAddressInfo=e,this.$refs.password.showPassword(!0)},selectionAddress:function(e){var t=!0,s=!1,r=void 0;try{for(var n,a=this.addressList[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var i=n.value;i.selection&&(i.selection=!1),i.address===e.address&&(i.selection=!0)}}catch(o){s=!0,r=o}finally{try{t||null==a.return||a.return()}finally{if(s)throw r}}localStorage.setItem(Object(u["g"])(),JSON.stringify(this.addressList)),this.$router.push({name:"home"})},passSubmit:function(e){var t=this,s=Object(u["e"])(0),r=o.a.decrypteOfAES(this.selectAddressInfo.aesPri,e),n=o.a.importByKey(this.selectAddressInfo.chainId,r,e,this.prefix);this.selectAddressInfo.address===n.address?(s.splice(s.findIndex(function(e){return e.address===t.selectAddressInfo.address}),1),this.selectAddressInfo.selection&&0!==s.length&&(s[0].selection=!0),localStorage.setItem(Object(u["g"])(),JSON.stringify(s)),this.getAddressList()):this.$message({message:this.$t("address.address13"),type:"error",duration:1e3})},editRemark:function(e){this.selectAddressInfo=e,this.remarkInfo=this.selectAddressInfo.remark,this.remarkDialog=!0},addRemark:function(){var e=Object(u["e"])(0),t=!0,s=!1,r=void 0;try{for(var n,a=e[Symbol.iterator]();!(t=(n=a.next()).done);t=!0){var i=n.value;i.address===this.selectAddressInfo.address&&(this.selectAddressInfo.remark=this.remarkInfo,i.remark=this.remarkInfo)}}catch(o){s=!0,r=o}finally{try{t||null==a.return||a.return()}finally{if(s)throw r}}localStorage.setItem(Object(u["g"])(),JSON.stringify(e)),this.remarkDialog=!1,this.selectAddressInfo=""},toUrl:function(e,t){this.$router.push({name:e,query:{address:t}})}}},f=l,p=(s("675f"),s("2877")),h=Object(p["a"])(f,r,n,!1,null,null,null);t["default"]=h.exports}}]);
//# sourceMappingURL=chunk-6dda9a5b.10c39ef2.js.map
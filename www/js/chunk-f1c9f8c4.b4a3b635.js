(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f1c9f8c4"],{"2e64":function(s,a,e){"use strict";var r=e("ff03"),t=e.n(r);t.a},"3a51":function(s,a,e){},b301:function(s,a,e){"use strict";var r=function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",{staticClass:"back",attrs:{backUrl:s.backUrl}},[e("span",{staticClass:"back-box",on:{click:s.back}},[e("i",{staticClass:"el-icon-arrow-left"}),e("span",[s._v(s._s(s.backTitle))])])])},t=[],o={props:{backTitle:{type:String,default:""},backUrl:{type:String,default:"1"},backParams:{type:String,default:""}},methods:{back:function(){"1"===this.backUrl?this.$router.go(-1):this.$router.push({name:this.backUrl})}}},n=o,i=(e("2e64"),e("2877")),c=Object(i["a"])(n,r,t,!1,null,null,null);a["a"]=c.exports},b8ea:function(s,a,e){"use strict";var r=e("3a51"),t=e.n(r);t.a},ce96:function(s,a,e){"use strict";e.r(a);var r=function(){var s=this,a=s.$createElement,e=s._self._c||a;return e("div",{staticClass:"new_address bg-gray"},[e("div",{staticClass:"bg-white"},[e("div",{staticClass:"w1200"},[e("BackBar",{attrs:{backTitle:"账户管理"}}),e("h3",{staticClass:"title"},[s._v("修改密码")])],1)]),e("div",{staticClass:"new w1200 mt_20 bg-white"},[e("div",{staticClass:"w630"},[e("h3",{staticClass:"tc mzt_20"},[s._v(s._s(this.$route.query.address))]),e("el-form",{ref:"passwordForm",staticClass:"mb_20",attrs:{model:s.passwordForm,"status-icon":"",rules:s.passwordRules}},[e("el-form-item",{attrs:{label:"旧密码",prop:"oldPass"}},[e("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:s.passwordForm.oldPass,callback:function(a){s.$set(s.passwordForm,"oldPass",a)},expression:"passwordForm.oldPass"}})],1),e("el-form-item",{attrs:{label:"新密码",prop:"newPass"}},[e("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:s.passwordForm.newPass,callback:function(a){s.$set(s.passwordForm,"newPass",a)},expression:"passwordForm.newPass"}})],1),e("el-form-item",{attrs:{label:"确认新密码",prop:"checkPass"}},[e("el-input",{attrs:{type:"password",autocomplete:"off"},model:{value:s.passwordForm.checkPass,callback:function(a){s.$set(s.passwordForm,"checkPass",a)},expression:"passwordForm.checkPass"}})],1),e("el-form-item",{staticClass:"form-next"},[e("el-button",{attrs:{type:"success"},on:{click:function(a){return s.submitPasswordForm("passwordForm")}}},[s._v("提交")]),e("div",[s._v("如果你忘记密码可以使用私钥重新导入")])],1)],1)],1)])])},t=[],o=e("f499"),n=e.n(o),i=e("0ad0"),c=e.n(i),d=e("b301"),l={data:function(){var s=this,a=function(a,e,r){var t=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{8,20}$/;""===e?r(new Error("请旧输入密码")):t.exec(e)?(""!==s.passwordForm.checkPass&&s.$refs.passwordForm.validateField("newPass"),r()):r(new Error("请输入由字母和数字组合的8-20位密码"))},e=function(a,e,r){var t=/^(?![\d]+$)(?![a-zA-Z]+$)(?![^\da-zA-Z]+$).{8,20}$/;""===e?r(new Error("请输入新密码")):t.exec(e)?s.passwordForm.oldPass===s.passwordForm.newPass?r(new Error("新密码不能和旧密码相同")):(""!==s.passwordForm.checkPass&&s.$refs.passwordForm.validateField("checkPass"),r()):r(new Error("请输入由字母和数字组合的8-20位密码"))},r=function(a,e,r){""===e?r(new Error("请再次输入新密码")):s.passwordForm.checkPass!==s.passwordForm.newPass?r(new Error("新密码与确认新密码不一样，请重新输入")):r()};return{addressInfo:{},passwordForm:{oldPass:"",newPass:"",checkPass:""},passwordRules:{oldPass:[{validator:a,trigger:"blur"}],newPass:[{validator:e,trigger:"blur"}],checkPass:[{validator:r,trigger:"blur"}]},editAddressInfo:""}},created:function(){var s=this;this.addressInfo=JSON.parse(sessionStorage.getItem(sessionStorage.key(0))),setInterval(function(){s.addressInfo=JSON.parse(sessionStorage.getItem(sessionStorage.key(0)))},500)},mounted:function(){},components:{BackBar:d["a"]},methods:{submitPasswordForm:function(s){var a=this;this.$refs[s].validate(function(s){if(!s)return!1;var e=c.a.decrypteOfAES(a.addressInfo.aesPri,a.passwordForm.oldPass),r=c.a.importByKey(2,e,a.passwordForm.oldPass);if(r.address===a.addressInfo.address){var t=c.a.importByKey(2,e,a.passwordForm.newPass);r.aesPri=t.aesPri,r.pub=t.pub,localStorage.setItem(t.address,n()(t)),sessionStorage.setItem(t.address,n()(t)),a.$message({message:"密码修改完成",type:"success",duration:1e3}),a.toUrl("address")}else a.$message({message:"旧密码错误",type:"error",duration:1e3})})},toUrl:function(s){this.$router.push({name:s})}}},u=l,p=(e("b8ea"),e("2877")),m=Object(p["a"])(u,r,t,!1,null,null,null);a["default"]=m.exports},ff03:function(s,a,e){}}]);
//# sourceMappingURL=chunk-f1c9f8c4.b4a3b635.js.map